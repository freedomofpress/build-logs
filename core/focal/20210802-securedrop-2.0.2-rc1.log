[user@fpf-dev-dvm:~] $
 $ git clone https://github.com/freedomofpress/securedrop
Cloning into 'securedrop'...
changing to directory securedrop
[user@fpf-dev-dvm:~/securedrop] develop 14s ±
 $ mkvirtualenv -p $(which python3) -a $PWD sd
Already using interpreter /usr/bin/python3
Using base prefix '/usr'
New python executable in /home/user/.virtualenvs/sd/bin/python3
Also creating executable in /home/user/.virtualenvs/sd/bin/python
Installing setuptools, pkg_resources, pip, wheel...done.
Setting project for sd to /home/user/securedrop
[user@fpf-dev-dvm:~/securedrop] [sd] develop 37s ±
 $ git checkout v2.0.1-rc1
error: pathspec 'v2.0.1-rc1' did not match any file(s) known to git
[user@fpf-dev-dvm:~/securedrop] [sd] develop 41s 1 ±
 $ git checkout v2.0.2-rc1
error: pathspec 'v2.0.2-rc1' did not match any file(s) known to git
[user@fpf-dev-dvm:~/securedrop] [sd] develop 46s 1 ±
 $ git checkout 2.0.2-rc1
Note: checking out '2.0.2-rc1'.

You are in 'detached HEAD' state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by performing another checkout.

If you want to create a new branch to retain commits you create, you may
do so (now or later) by using -b with the checkout command again. Example:

  git checkout -b <new-branch-name>

HEAD is now at 80a6f5e92 SecureDrop 2.0.2~rc1
[user@fpf-dev-dvm:~/securedrop] [sd] 80a6f5e92 53s ±
 $ git show
commit 80a6f5e925fdd24fa61acb260ac4172a0a1a5f91 (HEAD, tag: 2.0.2-rc1, origin/release/2.0.2)
Author: Kevin O'Gorman <kog@freedom.press>
Date:   Sat Jul 31 16:27:49 2021 -0400

    SecureDrop 2.0.2~rc1

diff --git a/changelog.md b/changelog.md
index 76c4d4646..53941940c 100644
--- a/changelog.md
+++ b/changelog.md
@@ -1,5 +1,15 @@
 # Changelog

+## 2.0.2~rc1
+
+### Operations
+
+* Updated default grsec kernel version from 5.4.97 to 5.4.136 (#6054)
+
+### Development
+
+* Updated pillow dependency from 8.2.0 to 8.3.1 (#6045)
+
 ## 2.0.1

 ### Operations
diff --git a/install_files/ansible-base/group_vars/all/securedrop b/install_files/ansible-base/group_vars/all/securedrop
index ae0d55ded..1fe3c8ce1 100644
--- a/install_files/ansible-base/group_vars/all/securedrop
+++ b/install_files/ansible-base/group_vars/all/securedrop
@@ -2,7 +2,7 @@
 # Variables that apply to both the app and monitor server go in this file
 # If the monitor or app server need different values define the variable in
 # hosts_vars/app.yml or host_vars/mon.yml
-securedrop_version: "2.0.1"
+securedrop_version: "2.0.2~rc1"
 securedrop_app_code_sdist_name: "securedrop-app-code-{{ securedrop_version | replace('~', '-') }}.tar.gz"

 grsecurity: true
diff --git a/install_files/ansible-base/roles/build-securedrop-app-code-deb-pkg/files/changelog-focal b/install_files/ansible-base/roles/build-securedrop-app-code-deb-pkg/files/changelog-focal
index eeed319b7..11ea3d311 100644
--- a/install_files/ansible-base/roles/build-securedrop-app-code-deb-pkg/files/changelog-focal
+++ b/install_files/ansible-base/roles/build-securedrop-app-code-deb-pkg/files/changelog-focal
@@ -1,3 +1,9 @@
+securedrop-app-code (2.0.2~rc1+focal) focal; urgency=medium
+
+  * see changelog.md
+
+ -- SecureDrop Team <securedrop@freedom.press>  Sat, 31 Jul 2021 16:27:30 -0400
+
 securedrop-app-code (2.0.1+focal) focal; urgency=medium

   * see changelog.md
diff --git a/molecule/builder-focal/tests/vars.yml b/molecule/builder-focal/tests/vars.yml
index 9736d9c0f..5440b491e 100644
--- a/molecule/builder-focal/tests/vars.yml
[user@fpf-dev-dvm:~/securedrop] [sd] 80a6f5e92 58s ±
 $ make build-debs
[user@fpf-dev-dvm:~/securedrop] [sd] 80a6f5e92 58s ±
 $ make build-debs
Building SecureDrop Debian packages for Focal...
Using active Python 3 virtualenv in /home/user/.virtualenvs/sd
/home/user/securedrop/devops/scripts/build-debs.sh: line 35: molecule: command not found
make: *** [Makefile:293: build-debs] Error 127
[user@fpf-dev-dvm:~/securedrop] [sd] 80a6f5e92 1m5s 2 ±
 $ pip install -r securedrop/requirements/python3/develop-requirements.txt
Collecting ansible-lint==4.2.0
  Downloading ansible_lint-4.2.0-py2.py3-none-any.whl (57 kB)
     |████████████████████████████████| 57 kB 2.2 MB/s
Collecting ansible==2.9.21
  Downloading ansible-2.9.21.tar.gz (14.3 MB)
     |████████████████████████████████| 14.3 MB 9.8 MB/s
Collecting apipkg==1.4
  Downloading apipkg-1.4-py2.py3-none-any.whl (6.6 kB)
Collecting argon2-cffi==20.1.0
  Downloading argon2_cffi-20.1.0-cp35-abi3-manylinux1_x86_64.whl (97 kB)
     |████████████████████████████████| 97 kB 8.8 MB/s
Collecting arrow==0.10.0
  Downloading arrow-0.10.0.tar.gz (86 kB)
     |████████████████████████████████| 86 kB 7.9 MB/s
Collecting aspy.yaml==1.3.0
  Downloading aspy.yaml-1.3.0-py2.py3-none-any.whl (3.5 kB)
Collecting astroid==2.5.2
  Downloading astroid-2.5.2-py3-none-any.whl (222 kB)
     |████████████████████████████████| 222 kB 8.8 MB/s
Collecting attrs==20.2.0
  Downloading attrs-20.2.0-py2.py3-none-any.whl (48 kB)
     |████████████████████████████████| 48 kB 7.5 MB/s
Collecting bandit==1.7.0
  Downloading bandit-1.7.0-py3-none-any.whl (115 kB)
     |████████████████████████████████| 115 kB 24.6 MB/s
Collecting bcrypt==3.1.3
  Downloading bcrypt-3.1.3.tar.gz (40 kB)
     |████████████████████████████████| 40 kB 6.1 MB/s
Collecting binaryornot==0.4.4
  Downloading binaryornot-0.4.4-py2.py3-none-any.whl (9.0 kB)
Collecting boto3==1.5.24
  Downloading boto3-1.5.24-py2.py3-none-any.whl (128 kB)
     |████████████████████████████████| 128 kB 38.0 MB/s
Collecting boto==2.48.0
  Downloading boto-2.48.0-py2.py3-none-any.whl (1.4 MB)
     |████████████████████████████████| 1.4 MB 47.0 MB/s
Collecting botocore==1.8.38
  Downloading botocore-1.8.38-py2.py3-none-any.whl (4.1 MB)
     |████████████████████████████████| 4.1 MB 11.2 MB/s
Collecting cerberus==1.3.1
  Downloading Cerberus-1.3.1.tar.gz (52 kB)
     |████████████████████████████████| 52 kB 1.8 MB/s
Collecting certifi==2017.7.27.1
  Downloading certifi-2017.7.27.1-py2.py3-none-any.whl (349 kB)
     |████████████████████████████████| 349 kB 33.2 MB/s
Collecting cffi==1.14.5
  Downloading cffi-1.14.5-cp37-cp37m-manylinux1_x86_64.whl (402 kB)
     |████████████████████████████████| 402 kB 12.2 MB/s
Collecting cfgv==2.0.1
  Downloading cfgv-2.0.1-py2.py3-none-any.whl (7.4 kB)
Collecting chardet==3.0.4
  Downloading chardet-3.0.4-py2.py3-none-any.whl (133 kB)
     |████████████████████████████████| 133 kB 41.0 MB/s
Collecting click-completion==0.5.2
  Downloading click-completion-0.5.2.tar.gz (10 kB)
Collecting click-help-colors==0.8
  Downloading click_help_colors-0.8-py3-none-any.whl (6.0 kB)
Collecting click==7.1.2
  Downloading click-7.1.2-py2.py3-none-any.whl (82 kB)
     |████████████████████████████████| 82 kB 1.6 MB/s
Collecting colorama==0.3.9
  Downloading colorama-0.3.9-py2.py3-none-any.whl (20 kB)
Collecting cookiecutter==1.6.0
  Downloading cookiecutter-1.6.0-py2.py3-none-any.whl (50 kB)
     |████████████████████████████████| 50 kB 6.6 MB/s
Collecting cryptography==3.2.1
  Downloading cryptography-3.2.1-cp35-abi3-manylinux2010_x86_64.whl (2.6 MB)
     |████████████████████████████████| 2.6 MB 21.5 MB/s
Collecting distro==1.5.0
  Downloading distro-1.5.0-py2.py3-none-any.whl (18 kB)
Collecting dnspython==1.15.0
  Downloading dnspython-1.15.0-py2.py3-none-any.whl (177 kB)
     |████████████████████████████████| 177 kB 27.7 MB/s
Collecting docker==4.4.2
  Downloading docker-4.4.2-py2.py3-none-any.whl (146 kB)
     |████████████████████████████████| 146 kB 29.1 MB/s
Collecting docopt==0.6.2
  Downloading docopt-0.6.2.tar.gz (25 kB)
Collecting docutils==0.14
  Downloading docutils-0.14-py3-none-any.whl (543 kB)
     |████████████████████████████████| 543 kB 20.2 MB/s
Collecting dparse==0.4.1
  Downloading dparse-0.4.1.tar.gz (31 kB)
Collecting entrypoints==0.3
  Downloading entrypoints-0.3-py2.py3-none-any.whl (11 kB)
Collecting execnet==1.4.1
  Downloading execnet-1.4.1-py2.py3-none-any.whl (40 kB)
     |████████████████████████████████| 40 kB 10.6 MB/s
Collecting fasteners==0.14.1
  Downloading fasteners-0.14.1-py2.py3-none-any.whl (20 kB)
Collecting flake8==3.7.7
  Downloading flake8-3.7.7-py2.py3-none-any.whl (68 kB)
     |████████████████████████████████| 68 kB 8.7 MB/s
Collecting future==0.16.0
  Downloading future-0.16.0.tar.gz (824 kB)
     |████████████████████████████████| 824 kB 11.4 MB/s
Collecting git-url-parse==1.0.2
  Downloading git_url_parse-1.0.2-py3-none-any.whl (5.4 kB)
Collecting gitdb2==2.0.3
  Downloading gitdb2-2.0.3-py2.py3-none-any.whl (63 kB)
     |████████████████████████████████| 63 kB 2.6 MB/s
Collecting gitpython==2.1.8
  Downloading GitPython-2.1.8-py2.py3-none-any.whl (448 kB)
     |████████████████████████████████| 448 kB 11.5 MB/s
Collecting html-linter==0.4.0
  Downloading html-linter-0.4.0.tar.gz (19 kB)
Collecting identify==1.4.7
  Downloading identify-1.4.7-py2.py3-none-any.whl (97 kB)
     |████████████████████████████████| 97 kB 8.4 MB/s
Collecting idna==2.5
  Downloading idna-2.5-py2.py3-none-any.whl (55 kB)
     |████████████████████████████████| 55 kB 4.5 MB/s
Collecting importlib-metadata==0.23
  Downloading importlib_metadata-0.23-py2.py3-none-any.whl (28 kB)
Collecting importlib-resources==1.5.0
  Downloading importlib_resources-1.5.0-py2.py3-none-any.whl (21 kB)
Collecting iniconfig==1.0.1
  Downloading iniconfig-1.0.1-py3-none-any.whl (4.2 kB)
Collecting isort==5.8.0
  Downloading isort-5.8.0-py3-none-any.whl (103 kB)
     |████████████████████████████████| 103 kB 35.4 MB/s
Collecting jinja2-time==0.2.0
  Downloading jinja2_time-0.2.0-py2.py3-none-any.whl (6.4 kB)
Collecting jinja2==2.11.3
  Downloading Jinja2-2.11.3-py2.py3-none-any.whl (125 kB)
     |████████████████████████████████| 125 kB 90.3 MB/s
Collecting jmespath==0.9.3
  Downloading jmespath-0.9.3-py2.py3-none-any.whl (23 kB)
Collecting lazy-object-proxy==1.6.0
  Downloading lazy_object_proxy-1.6.0-cp37-cp37m-manylinux1_x86_64.whl (55 kB)
     |████████████████████████████████| 55 kB 6.3 MB/s
Collecting markupsafe==1.1.1
  Downloading MarkupSafe-1.1.1-cp37-cp37m-manylinux1_x86_64.whl (27 kB)
Collecting mccabe==0.6.1
  Downloading mccabe-0.6.1-py2.py3-none-any.whl (8.6 kB)
Collecting molecule-vagrant==0.3
  Downloading molecule_vagrant-0.3-py2.py3-none-any.whl (24 kB)
Collecting molecule==3.0.2.1
  Downloading molecule-3.0.2.1-py2.py3-none-any.whl (281 kB)
     |████████████████████████████████| 281 kB 10.6 MB/s
Collecting monotonic==1.4
  Downloading monotonic-1.4-py2.py3-none-any.whl (5.3 kB)
Collecting more-itertools==7.2.0
  Downloading more_itertools-7.2.0-py3-none-any.whl (57 kB)
     |████████████████████████████████| 57 kB 3.2 MB/s
Collecting mypy-extensions==0.4.3
  Downloading mypy_extensions-0.4.3-py2.py3-none-any.whl (4.5 kB)
Collecting mypy==0.761
  Downloading mypy-0.761-cp37-cp37m-manylinux1_x86_64.whl (24.1 MB)
     |████████████████████████████████| 24.1 MB 507 kB/s
Collecting netaddr==0.7.19
  Downloading netaddr-0.7.19-py2.py3-none-any.whl (1.6 MB)
     |████████████████████████████████| 1.6 MB 9.5 MB/s
Collecting nodeenv==1.3.3
  Downloading nodeenv-1.3.3.tar.gz (34 kB)
Collecting packaging==16.8
  Downloading packaging-16.8-py2.py3-none-any.whl (23 kB)
Collecting paramiko==2.6.0
  Downloading paramiko-2.6.0-py2.py3-none-any.whl (199 kB)
     |████████████████████████████████| 199 kB 17.3 MB/s
Collecting pathspec==0.5.5
  Downloading pathspec-0.5.5.tar.gz (21 kB)
Collecting pbr==5.1.1
  Downloading pbr-5.1.1-py2.py3-none-any.whl (106 kB)
     |████████████████████████████████| 106 kB 17.5 MB/s
Collecting pep517==0.10.0
  Downloading pep517-0.10.0-py2.py3-none-any.whl (19 kB)
Collecting pexpect==4.6.0
  Downloading pexpect-4.6.0-py2.py3-none-any.whl (57 kB)
     |████████████████████████████████| 57 kB 9.0 MB/s
Collecting pip-tools==6.1.0
  Downloading pip_tools-6.1.0-py3-none-any.whl (44 kB)
     |████████████████████████████████| 44 kB 4.1 MB/s
Collecting pluggy==0.13.1
  Downloading pluggy-0.13.1-py2.py3-none-any.whl (18 kB)
Collecting poyo==0.4.1
  Downloading poyo-0.4.1-py2.py3-none-any.whl (12 kB)
Collecting pre-commit==1.18.3
  Downloading pre_commit-1.18.3-py2.py3-none-any.whl (154 kB)
     |████████████████████████████████| 154 kB 15.3 MB/s
Collecting prompt_toolkit==2.0.9
  Downloading prompt_toolkit-2.0.9-py3-none-any.whl (337 kB)
     |████████████████████████████████| 337 kB 30.1 MB/s
Collecting psutil==5.7.0
  Downloading psutil-5.7.0.tar.gz (449 kB)
     |████████████████████████████████| 449 kB 13.9 MB/s
Collecting ptyprocess==0.5.2
  Downloading ptyprocess-0.5.2-py2.py3-none-any.whl (39 kB)
Collecting py==1.10.0
  Downloading py-1.10.0-py2.py3-none-any.whl (97 kB)
     |████████████████████████████████| 97 kB 7.0 MB/s
Collecting pycodestyle==2.5.0
  Downloading pycodestyle-2.5.0-py2.py3-none-any.whl (51 kB)
     |████████████████████████████████| 51 kB 7.9 MB/s
Collecting pycparser==2.18
  Downloading pycparser-2.18.tar.gz (245 kB)
     |████████████████████████████████| 245 kB 23.0 MB/s
Collecting pyenchant==2.0.0
  Downloading pyenchant-2.0.0.tar.gz (64 kB)
     |████████████████████████████████| 64 kB 4.3 MB/s
Collecting pyflakes==2.1.1
  Downloading pyflakes-2.1.1-py2.py3-none-any.whl (59 kB)
     |████████████████████████████████| 59 kB 7.3 MB/s
Collecting pylint==2.7.4
  Downloading pylint-2.7.4-py3-none-any.whl (346 kB)
     |████████████████████████████████| 346 kB 36.7 MB/s
Collecting pynacl==1.1.2
  Downloading PyNaCl-1.1.2.tar.gz (3.1 MB)
     |████████████████████████████████| 3.1 MB 16.5 MB/s
Collecting pyparsing==2.2.0
  Downloading pyparsing-2.2.0-py2.py3-none-any.whl (56 kB)
     |████████████████████████████████| 56 kB 8.2 MB/s
Collecting pytest-forked==1.3.0
  Downloading pytest_forked-1.3.0-py2.py3-none-any.whl (4.7 kB)
Collecting pytest-xdist==2.1.0
  Downloading pytest_xdist-2.1.0-py3-none-any.whl (36 kB)
Collecting pytest==6.1.1
  Downloading pytest-6.1.1-py3-none-any.whl (272 kB)
     |████████████████████████████████| 272 kB 32.5 MB/s
Collecting python-dateutil==2.6.1
  Downloading python_dateutil-2.6.1-py2.py3-none-any.whl (194 kB)
     |████████████████████████████████| 194 kB 36.5 MB/s
Collecting python-gilt==1.2.1
  Downloading python_gilt-1.2.1-py3-none-any.whl (13 kB)
Collecting python-vagrant==0.5.15
  Downloading python-vagrant-0.5.15.tar.gz (29 kB)
Collecting pyyaml==5.4.1
  Downloading PyYAML-5.4.1-cp37-cp37m-manylinux1_x86_64.whl (636 kB)
     |████████████████████████████████| 636 kB 13.9 MB/s
Collecting requests==2.22.0
  Downloading requests-2.22.0-py2.py3-none-any.whl (57 kB)
     |████████████████████████████████| 57 kB 8.7 MB/s
Collecting ruamel.yaml.clib==0.2.0
  Downloading ruamel.yaml.clib-0.2.0-cp37-cp37m-manylinux1_x86_64.whl (547 kB)
     |████████████████████████████████| 547 kB 19.8 MB/s
Collecting ruamel.yaml==0.16.10
  Downloading ruamel.yaml-0.16.10-py2.py3-none-any.whl (111 kB)
     |████████████████████████████████| 111 kB 26.3 MB/s
Collecting s3transfer==0.1.12
  Downloading s3transfer-0.1.12-py2.py3-none-any.whl (59 kB)
     |████████████████████████████████| 59 kB 11.1 MB/s
Collecting safety==1.8.7
  Downloading safety-1.8.7-py2.py3-none-any.whl (14 kB)
Collecting selinux==0.2.1
  Downloading selinux-0.2.1-py2.py3-none-any.whl (4.3 kB)
Collecting sh==1.12.14
  Downloading sh-1.12.14-py2.py3-none-any.whl (38 kB)
Collecting shellingham==1.3.2
  Downloading shellingham-1.3.2-py2.py3-none-any.whl (11 kB)
Collecting six==1.15.0
  Downloading six-1.15.0-py2.py3-none-any.whl (10 kB)
Collecting smmap2==2.0.3
  Downloading smmap2-2.0.3-py2.py3-none-any.whl (27 kB)
Collecting sqlalchemy-stubs==0.3
  Downloading sqlalchemy_stubs-0.3-py3-none-any.whl (115 kB)
     |████████████████████████████████| 115 kB 17.4 MB/s
Collecting stevedore==1.28.0
  Downloading stevedore-1.28.0-py2.py3-none-any.whl (39 kB)
Collecting tabulate==0.8.7
  Downloading tabulate-0.8.7-py3-none-any.whl (24 kB)
Collecting template-remover==0.1.9
  Downloading template-remover-0.1.9.tar.gz (7.1 kB)
Collecting testinfra==5.3.1
  Downloading testinfra-5.3.1-py3-none-any.whl (69 kB)
     |████████████████████████████████| 69 kB 11.4 MB/s
Collecting toml==0.10.0
  Downloading toml-0.10.0-py2.py3-none-any.whl (25 kB)
Collecting tree-format==0.1.2
  Downloading tree-format-0.1.2.tar.gz (4.0 kB)
Collecting typed-ast==1.4.1
  Downloading typed_ast-1.4.1-cp37-cp37m-manylinux1_x86_64.whl (737 kB)
     |████████████████████████████████| 737 kB 18.4 MB/s
Collecting typing-extensions==3.7.4.1
  Downloading typing_extensions-3.7.4.1-py3-none-any.whl (20 kB)
Collecting urllib3==1.25.10
  Downloading urllib3-1.25.10-py2.py3-none-any.whl (127 kB)
     |████████████████████████████████| 127 kB 18.5 MB/s
Collecting virtualenv==16.7.5
  Downloading virtualenv-16.7.5-py2.py3-none-any.whl (3.3 MB)
     |████████████████████████████████| 3.3 MB 14.4 MB/s
Collecting wcwidth==0.1.7
  Downloading wcwidth-0.1.7-py2.py3-none-any.whl (21 kB)
Collecting websocket-client==0.44.0
  Downloading websocket_client-0.44.0-py2.py3-none-any.whl (199 kB)
     |████████████████████████████████| 199 kB 12.3 MB/s
Collecting whichcraft==0.4.1
  Downloading whichcraft-0.4.1-py2.py3-none-any.whl (5.1 kB)
Collecting wrapt==1.12.1
  Downloading wrapt-1.12.1.tar.gz (27 kB)
Collecting yamllint==1.17.0
  Downloading yamllint-1.17.0-py2.py3-none-any.whl (57 kB)
     |████████████████████████████████| 57 kB 3.3 MB/s
Collecting zipp==0.6.0
  Downloading zipp-0.6.0-py2.py3-none-any.whl (4.1 kB)
Collecting pip==21.1.1
  Downloading pip-21.1.1-py3-none-any.whl (1.5 MB)
     |████████████████████████████████| 1.5 MB 11.0 MB/s
Collecting setuptools==56.0.0
  Downloading setuptools-56.0.0-py3-none-any.whl (784 kB)
     |████████████████████████████████| 784 kB 17.2 MB/s
Building wheels for collected packages: ansible, arrow, bcrypt, cerberus, click-completion, docopt, dparse, future, html-linter, nodeenv, pathspec, psutil, pycparser, pyenchant, pynacl, python-vagrant, template-remover, tree-format, wrapt
  Building wheel for ansible (setup.py) ... done
  Created wheel for ansible: filename=ansible-2.9.21-py3-none-any.whl size=16204732 sha256=064458b17387ca9ae039c78b4e533e47a56fdacb27a24444457161c7bc71289d
  Stored in directory: /home/user/.cache/pip/wheels/1f/ba/0c/9a0e89767e5aa1b7992129fa3042039034897331875740dd5c
  Building wheel for arrow (setup.py) ... done
  Created wheel for arrow: filename=arrow-0.10.0-py2.py3-none-any.whl size=32869 sha256=e952c9848b42c6cafac6e4b9b10c3a16a3a48325aa9419039aeba4b17e56f774
  Stored in directory: /home/user/.cache/pip/wheels/08/04/41/fc01ef75aa14872805f2283ef01954a539700a7a6435cf52f1
  Building wheel for bcrypt (setup.py) ... done
  Created wheel for bcrypt: filename=bcrypt-3.1.3-cp37-cp37m-linux_x86_64.whl size=62565 sha256=c3c497bbe5a0c6cce73e193fc47f47d312f0bed3e9d3bef008a432c99101fb8d
  Stored in directory: /home/user/.cache/pip/wheels/af/05/db/ec8bfecf1b99a175e62e918d2f891a5f9b1132d12ad2b32e6e
  Building wheel for cerberus (setup.py) ... done
  Created wheel for cerberus: filename=Cerberus-1.3.1-py3-none-any.whl size=54149 sha256=fdbd28cb60a5993824100c839b6b08916c70ab55477f093dbcc46dc10e40eeee
  Stored in directory: /home/user/.cache/pip/wheels/c6/d3/b0/ff1650a3cb6b6f19ea314ec517a17d88a1a4a1181b5a209836
  Building wheel for click-completion (setup.py) ... done
  Created wheel for click-completion: filename=click_completion-0.5.2-py3-none-any.whl size=11201 sha256=c583fb4fe7ff31f71a036bf9883bb94f2f3e8ba3d821d46a402844184c3c39e6
  Stored in directory: /home/user/.cache/pip/wheels/31/f0/f2/9a6863c99cbafd28edbad2f52336fa296e267a83378d57babd
  Building wheel for docopt (setup.py) ... done
  Created wheel for docopt: filename=docopt-0.6.2-py2.py3-none-any.whl size=13724 sha256=f1e7a23a6ec14f7676fd1226eca9d5e3890a1e3d14b5c1d541c91aee9db5ac37
  Stored in directory: /home/user/.cache/pip/wheels/72/b0/3f/1d95f96ff986c7dfffe46ce2be4062f38ebd04b506c77c81b9
  Building wheel for dparse (setup.py) ... done
  Created wheel for dparse: filename=dparse-0.4.1-py3-none-any.whl size=19528 sha256=3b8dd5ec13f7c28c457632d1b01593d77644de2b1413adc237e9a2829ac4efc3
  Stored in directory: /home/user/.cache/pip/wheels/71/4d/89/faf1d72f447af4ba171beff9447a110e24e28c530fba45d3da
  Building wheel for future (setup.py) ... done
  Created wheel for future: filename=future-0.16.0-py3-none-any.whl size=487808 sha256=f133a1f088fed4b90071fd3f4d08f24aa63535a16e0403130f6e94fc73ac1dca
  Stored in directory: /home/user/.cache/pip/wheels/7c/09/6f/dfd31fb2ebe951aefbee461a0dfce1bdc2e4b2c1016e85d233
  Building wheel for html-linter (setup.py) ... done
  Created wheel for html-linter: filename=html_linter-0.4.0-py3-none-any.whl size=14336 sha256=a46e0e8dae2c0c3372ac4b567012aef077c354b8bfbfd7968c11d980f0a7ce13
  Stored in directory: /home/user/.cache/pip/wheels/2e/50/9f/73a163b49962de66a9bcc0707dbb1519f553371422ed91c200
  Building wheel for nodeenv (setup.py) ... done
  Created wheel for nodeenv: filename=nodeenv-1.3.3-py3-none-any.whl size=21370 sha256=caba8f8f0ba301e047714d8a01653b5b850f9e23351002ab7eb52d1a7b96ef93
  Stored in directory: /home/user/.cache/pip/wheels/13/d3/6f/0e01c0c62414f74a97916cc97047c088f6acc8ce617d1b37ff
  Building wheel for pathspec (setup.py) ... done
  Created wheel for pathspec: filename=pathspec-0.5.5-py3-none-any.whl size=24234 sha256=1863750dfcaf0c298e945387c1d0097a3f0849f6b7ac3d74a49785723758e230
  Stored in directory: /home/user/.cache/pip/wheels/09/97/ce/98234adaab0cf5b2c3a1b6610ada24e6f7ab3675fff4e0b8b2
  Building wheel for psutil (setup.py) ... done
  Created wheel for psutil: filename=psutil-5.7.0-cp37-cp37m-linux_x86_64.whl size=282524 sha256=34d26379b01be5e3ef17b61cdcfd55098dcaa3725dd6583dd31cd1dd131ac0ae
  Stored in directory: /home/user/.cache/pip/wheels/b6/e7/50/aee9cc966163d74430f13f208171dee22f11efa4a4a826661c
  Building wheel for pycparser (setup.py) ... done
  Created wheel for pycparser: filename=pycparser-2.18-py2.py3-none-any.whl size=205755 sha256=fcad9606f26d77ef8f43cabe491e58f7d334fd35b29d4466dd5ba3277c0f83e6
  Stored in directory: /home/user/.cache/pip/wheels/5d/c6/29/87a8bb797e60b55a91bd0a1e8455365c5f5dff9fc45c05f3e4
  Building wheel for pyenchant (setup.py) ... done
  Created wheel for pyenchant: filename=pyenchant-2.0.0-py2.py3.cp27.cp32.cp33.cp34.cp35.cp36.pp27.pp33.pp35-none-any.whl size=71165 sha256=f604b2bce0fef7cd7b5ba28a67fbb8bfd3d5a6f0dd20f3556a167ef5b841a33c
  Stored in directory: /home/user/.cache/pip/wheels/b3/a1/1f/9f401bb462dc2815fad237aa51b7fc9c6ea68760a468a5113f
  Building wheel for pynacl (setup.py) ... done
  Created wheel for pynacl: filename=PyNaCl-1.1.2-cp37-cp37m-linux_x86_64.whl size=670257 sha256=615fa9ab37604ea386885351d962a6231becb1a939cec1612421b9cea019a9ac
  Stored in directory: /home/user/.cache/pip/wheels/de/0e/97/dbf5e8f88b4eb199d5bd738b291cd770f5dc1f3c59f0595480
  Building wheel for python-vagrant (setup.py) ... done
  Created wheel for python-vagrant: filename=python_vagrant-0.5.15-py3-none-any.whl size=18449 sha256=78ec4f4776b09e14e9d2e11950be624343843a002d5a7ef32a4934a87f075953
  Stored in directory: /home/user/.cache/pip/wheels/a1/9e/8f/6d84a01c39978f584d03e873cbd99d2c41415695a0fa5c1f5c
  Building wheel for template-remover (setup.py) ... done
  Created wheel for template-remover: filename=template_remover-0.1.9-py3-none-any.whl size=7047 sha256=acda09eb5aad4dd375d65f6012b933575e1a358a0a8759c14a9a66c95e7ca95b
  Stored in directory: /home/user/.cache/pip/wheels/18/3f/f0/67e5e9e4ed02275ac31bf76b2fca329ae79687eaf5913ee8f3
  Building wheel for tree-format (setup.py) ... done
  Created wheel for tree-format: filename=tree_format-0.1.2-py3-none-any.whl size=5412 sha256=50f153dd98267c6134445c132f481d81d6b56a0d6fce962fd02ad816d1e3f2a6
  Stored in directory: /home/user/.cache/pip/wheels/dd/b2/d1/6ac00b8fe427c28f3f3a39563977cd0667296720b3d9c19f6a
  Building wheel for wrapt (setup.py) ... done
  Created wheel for wrapt: filename=wrapt-1.12.1-cp37-cp37m-linux_x86_64.whl size=73468 sha256=26ca36cfc2c4556b0cb04be8917063ed04f0e1d06a12f95e6f356a8ab5ed2a46
  Stored in directory: /home/user/.cache/pip/wheels/62/76/4c/aa25851149f3f6d9785f6c869387ad82b3fd37582fa8147ac6
Successfully built ansible arrow bcrypt cerberus click-completion docopt dparse future html-linter nodeenv pathspec psutil pycparser pyenchant pynacl python-vagrant template-remover tree-format wrapt
Installing collected packages: six, more-itertools, zipp, python-dateutil, pycparser, markupsafe, urllib3, pyyaml, pyparsing, pbr, monotonic, jinja2, importlib-metadata, idna, click, chardet, cffi, certifi, arrow, whichcraft, virtualenv, toml, smmap2, shellingham, sh, requests, pynacl, py, ptyprocess, poyo, pluggy, pathspec, packaging, nodeenv, jmespath, jinja2-time, iniconfig, identify, git-url-parse, future, fasteners, docutils, cryptography, colorama, cfgv, binaryornot, bcrypt, attrs, aspy.yaml, yamllint, wrapt, typing-extensions, typed-ast, tree-format, tabulate, setuptools, ruamel.yaml.clib, python-gilt, pytest, pre-commit, pexpect, paramiko, mypy-extensions, lazy-object-proxy, gitdb2, docopt, distro, cookiecutter, click-help-colors, click-completion, cerberus, botocore, apipkg, ansible, websocket-client, wcwidth, template-remover, stevedore, selinux, s3transfer, ruamel.yaml, python-vagrant, pytest-forked, pyflakes, pycodestyle, pip, pep517, mypy, molecule, mccabe, isort, gitpython, execnet, entrypoints, dparse, astroid, testinfra, sqlalchemy-stubs, safety, pytest-xdist, pylint, pyenchant, psutil, prompt-toolkit, pip-tools, netaddr, molecule-vagrant, importlib-resources, html-linter, flake8, docker, dnspython, boto3, boto, bandit, argon2-cffi, ansible-lint
  Attempting uninstall: setuptools
    Found existing installation: setuptools 57.4.0
    Uninstalling setuptools-57.4.0:
      Successfully uninstalled setuptools-57.4.0
  Attempting uninstall: pip
    Found existing installation: pip 21.2.2
    Uninstalling pip-21.2.2:
      Successfully uninstalled pip-21.2.2
Successfully installed ansible-2.9.21 ansible-lint-4.2.0 apipkg-1.4 argon2-cffi-20.1.0 arrow-0.10.0 aspy.yaml-1.3.0 astroid-2.5.2 attrs-20.2.0 bandit-1.7.0 bcrypt-3.1.3 binaryornot-0.4.4 boto-2.48.0 boto3-1.5.24 botocore-1.8.38 cerberus-1.3.1 certifi-2017.7.27.1 cffi-1.14.5 cfgv-2.0.1 chardet-3.0.4 click-7.1.2 click-completion-0.5.2 click-help-colors-0.8 colorama-0.3.9 cookiecutter-1.6.0 cryptography-3.2.1 distro-1.5.0 dnspython-1.15.0 docker-4.4.2 docopt-0.6.2 docutils-0.14 dparse-0.4.1 entrypoints-0.3 execnet-1.4.1 fasteners-0.14.1 flake8-3.7.7 future-0.16.0 git-url-parse-1.0.2 gitdb2-2.0.3 gitpython-2.1.8 html-linter-0.4.0 identify-1.4.7 idna-2.5 importlib-metadata-0.23 importlib-resources-1.5.0 iniconfig-1.0.1 isort-5.8.0 jinja2-2.11.3 jinja2-time-0.2.0 jmespath-0.9.3 lazy-object-proxy-1.6.0 markupsafe-1.1.1 mccabe-0.6.1 molecule-3.0.2.1 molecule-vagrant-0.3 monotonic-1.4 more-itertools-7.2.0 mypy-0.761 mypy-extensions-0.4.3 netaddr-0.7.19 nodeenv-1.3.3 packaging-16.8 paramiko-2.6.0 pathspec-0.5.5 pbr-5.1.1 pep517-0.10.0 pexpect-4.6.0 pip-21.1.1 pip-tools-6.1.0 pluggy-0.13.1 poyo-0.4.1 pre-commit-1.18.3 prompt-toolkit-2.0.9 psutil-5.7.0 ptyprocess-0.5.2 py-1.10.0 pycodestyle-2.5.0 pycparser-2.18 pyenchant-2.0.0 pyflakes-2.1.1 pylint-2.7.4 pynacl-1.1.2 pyparsing-2.2.0 pytest-6.1.1 pytest-forked-1.3.0 pytest-xdist-2.1.0 python-dateutil-2.6.1 python-gilt-1.2.1 python-vagrant-0.5.15 pyyaml-5.4.1 requests-2.22.0 ruamel.yaml-0.16.10 ruamel.yaml.clib-0.2.0 s3transfer-0.1.12 safety-1.8.7 selinux-0.2.1 setuptools-56.0.0 sh-1.12.14 shellingham-1.3.2 six-1.15.0 smmap2-2.0.3 sqlalchemy-stubs-0.3 stevedore-1.28.0 tabulate-0.8.7 template-remover-0.1.9 testinfra-5.3.1 toml-0.10.0 tree-format-0.1.2 typed-ast-1.4.1 typing-extensions-3.7.4.1 urllib3-1.25.10 virtualenv-16.7.5 wcwidth-0.1.7 websocket-client-0.44.0 whichcraft-0.4.1 wrapt-1.12.1 yamllint-1.17.0 zipp-0.6.0
[user@fpf-dev-dvm:~/securedrop] [sd] 80a6f5e92 3m45s ±
 $ make build-debs
Building SecureDrop Debian packages for Focal...
Using active Python 3 virtualenv in /home/user/.virtualenvs/sd
--> Test matrix

└── builder-focal
    ├── destroy
    ├── create
    ├── converge
    ├── verify
    └── destroy

--> Inventory /home/user/securedrop/molecule/builder-focal/../../install_files/ansible-base/group_vars linked to /home/user/.cache/molecule/securedrop/builder-focal/inventory/group_vars
--> Scenario: 'builder-focal'
--> Action: 'destroy'
--> Sanity checks: 'docker'

    PLAY [Destroy] *****************************************************************

    TASK [Destroy molecule instance(s)] ********************************************
    ok: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-app'})
    ok: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-generic-ossec-agent'})
    ok: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-generic-ossec-server'})
    ok: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-generic-ossec-agent2'})
    ok: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-generic-ossec-server2'})
    ok: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-grsec'})
    ok: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-config'})
    ok: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-keyring'})
    ok: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-sec-update'})
    ok: [localhost] => (item={'groups': ['testers'], 'name': 'focal-sd-dpkg-verification'})

    PLAY RECAP *********************************************************************
    localhost                  : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0

--> Inventory /home/user/securedrop/molecule/builder-focal/../../install_files/ansible-base/group_vars linked to /home/user/.cache/molecule/securedrop/builder-focal/inventory/group_vars
--> Scenario: 'builder-focal'
--> Action: 'create'

    PLAY [Create] ******************************************************************

    TASK [debug] *******************************************************************
    ok: [localhost] => {
        "msg": "Building with Docker image quay.io/freedomofpress/sd-docker-builder-focal@sha256:b9951f583e64a9a24a3764ecee8cc85ae30a4d1d89c19a49d0d99eae0c04b123"
    }

    TASK [Create builders] *********************************************************
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-app'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-generic-ossec-agent'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-generic-ossec-server'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-generic-ossec-agent2'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-generic-ossec-server2'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-grsec'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-config'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-keyring'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-sec-update'})
    changed: [localhost] => (item={'groups': ['testers'], 'name': 'focal-sd-dpkg-verification'})

    PLAY RECAP *********************************************************************
    localhost                  : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0

--> Inventory /home/user/securedrop/molecule/builder-focal/../../install_files/ansible-base/group_vars linked to /home/user/.cache/molecule/securedrop/builder-focal/inventory/group_vars
--> Scenario: 'builder-focal'
--> Action: 'converge'

    PLAY [Build SecureDrop application Debian package from local repository.] ******

    TASK [Gathering Facts] *********************************************************
    ok: [focal-sd-generic-ossec-server2]
    ok: [focal-sd-app]
    ok: [focal-sd-generic-ossec-agent2]
    ok: [focal-sd-grsec]
    ok: [focal-sd-config]
    ok: [focal-sd-sec-update]
    ok: [focal-sd-generic-ossec-agent]
    ok: [focal-sd-keyring]
    ok: [focal-sd-generic-ossec-server]

    TASK [build-securedrop-app-code-deb-pkg : Copy install_files/securedrop-app-code to prep directory] ***
    changed: [focal-sd-app]

    TASK [build-securedrop-app-code-deb-pkg : Copy app code to prep directory under var/www/securedrop] ***
    changed: [focal-sd-app]

    TASK [build-securedrop-app-code-deb-pkg : Copy setup.py to prep directory] *****
    changed: [focal-sd-app]

    TASK [build-securedrop-app-code-deb-pkg : Copy MANIFEST.in to prep directory] ***
    changed: [focal-sd-app]

    TASK [build-securedrop-app-code-deb-pkg : Copy translation-requirements.txt to prep directory] ***
    changed: [focal-sd-app]

    TASK [build-securedrop-app-code-deb-pkg : Copy requirements.txt to prep directory] ***
    changed: [focal-sd-app]

    TASK [build-securedrop-app-code-deb-pkg : Control the version of setuptools used in the default construction of virtual environments] ***
    changed: [focal-sd-app]

    TASK [build-ossec-deb-pkg : Create src path folder] ****************************
    changed: [focal-sd-generic-ossec-server] => (item=/tmp/build/ossec-server)
    ok: [focal-sd-generic-ossec-server] => (item=/tmp/build)

    TASK [build-securedrop-app-code-deb-pkg : Install sass Ruby gem] ***************
    changed: [focal-sd-app]

    TASK [build-securedrop-app-code-deb-pkg : Create static asset directories.] ****
    changed: [focal-sd-app] => (item=/tmp/securedrop-app-code_2.0.2~rc1+focal_amd64-prep/var/www/securedrop/static/css)
    changed: [focal-sd-app] => (item=/tmp/securedrop-app-code_2.0.2~rc1+focal_amd64-prep/var/www/securedrop/static/gen)
    changed: [focal-sd-app] => (item=/tmp/securedrop-app-code_2.0.2~rc1+focal_amd64-prep/var/www/securedrop/static/.webassets-cache)

    TASK [build-ossec-deb-pkg : Install python-requests for URL fetching] **********
    ok: [focal-sd-generic-ossec-server]

    TASK [build-securedrop-app-code-deb-pkg : Compile SASS to CSS.] ****************
    changed: [focal-sd-app]

    TASK [build-securedrop-app-code-deb-pkg : Remove temporary SASS directory from package build directory.] ***
    changed: [focal-sd-app] => (item=sass)
    changed: [focal-sd-app] => (item=.sass-cache)

    TASK [build-ossec-deb-pkg : Copy over current directory for repo build] ********
    changed: [focal-sd-generic-ossec-server]

    TASK [build-ossec-deb-pkg : Include OSSEC download URLs.] **********************
    ok: [focal-sd-generic-ossec-server]

    TASK [build-ossec-deb-pkg : Download OSSEC tarball.] ***************************
[WARNING]: Module remote_tmp /root/.ansible/tmp did not exist and was created
with a mode of 0700, this may cause issues when running as another user. To
avoid this, create the remote_tmp dir with the correct permissions manually
    changed: [focal-sd-generic-ossec-server]

    TASK [build-ossec-deb-pkg : Download OSSEC signature.] *************************
    changed: [focal-sd-generic-ossec-server]

    TASK [build-ossec-deb-pkg : Copy OSSEC archive GPG key.] ***********************
    changed: [focal-sd-generic-ossec-server]

    TASK [build-ossec-deb-pkg : Import OSSEC archive GPG key.] *********************
    changed: [focal-sd-generic-ossec-server]

    TASK [build-ossec-deb-pkg : Verify signature of OSSEC tarball.] ****************
    changed: [focal-sd-generic-ossec-server]

    TASK [build-ossec-deb-pkg : Create src path folder] ****************************
    changed: [focal-sd-generic-ossec-agent] => (item=/tmp/build/ossec-agent)
    ok: [focal-sd-generic-ossec-agent] => (item=/tmp/build)

    TASK [build-ossec-deb-pkg : Install apt dependencies for building OSSEC packages.] ***
    changed: [focal-sd-generic-ossec-server]

    TASK [build-ossec-deb-pkg : Install python-requests for URL fetching] **********
    ok: [focal-sd-generic-ossec-agent]

    TASK [build-ossec-deb-pkg : Extract OSSEC source tarball.] *********************
    changed: [focal-sd-generic-ossec-server]

    TASK [build-ossec-deb-pkg : Copy over current directory for repo build] ********
    changed: [focal-sd-generic-ossec-agent]

    TASK [build-ossec-deb-pkg : Create /etc directory within source directory.] ****
    ok: [focal-sd-generic-ossec-server]

    TASK [build-ossec-deb-pkg : Include OSSEC download URLs.] **********************
    ok: [focal-sd-generic-ossec-agent]

    TASK [build-ossec-deb-pkg : Copy OSSEC preloaded vars template.] ***************
    changed: [focal-sd-generic-ossec-server]

    TASK [build-ossec-deb-pkg : Download OSSEC tarball.] ***************************
    changed: [focal-sd-generic-ossec-agent]

    TASK [build-ossec-deb-pkg : Download OSSEC signature.] *************************
    changed: [focal-sd-generic-ossec-agent]

    TASK [build-ossec-deb-pkg : Disable JIT in OSSEC Makefile] *********************
    changed: [focal-sd-generic-ossec-server]

    TASK [build-ossec-deb-pkg : Copy OSSEC archive GPG key.] ***********************
    changed: [focal-sd-generic-ossec-agent]

    TASK [build-ossec-deb-pkg : Import OSSEC archive GPG key.] *********************
    changed: [focal-sd-generic-ossec-agent]

    TASK [build-generic-pkg : Ensure package name is set] **************************
    ok: [focal-sd-generic-ossec-server2] => {
        "changed": false,
        "msg": "All assertions passed"
    }

    TASK [build-ossec-deb-pkg : Verify signature of OSSEC tarball.] ****************
    changed: [focal-sd-generic-ossec-agent]

    TASK [build-generic-pkg : Ensure build directory in-place] *********************
    ok: [focal-sd-generic-ossec-server2]

    TASK [build-generic-pkg : Copy app code to build directory.] *******************
    changed: [focal-sd-generic-ossec-server2]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-generic-ossec-agent2]
    ok: [focal-sd-config]
    ok: [focal-sd-sec-update]
    ok: [focal-sd-grsec]
    ok: [focal-sd-keyring]
    ok: [focal-sd-generic-ossec-server2]

    TASK [build-generic-pkg : Create any necessary parent directories for jinja files] ***
    ok: [focal-sd-generic-ossec-server2] => (item={'path': '/home/user/securedrop/install_files/securedrop-ossec-server/DEBIAN/control.j2', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 911, 'inode': 132323, 'dev': 51728, 'nlink': 1, 'atime': 1627939107.636, 'mtime': 1627939107.528, 'ctime': 1627939107.528, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})

    TASK [build-generic-pkg : Ensure package name is set] **************************
    ok: [focal-sd-generic-ossec-agent2] => {
        "changed": false,
        "msg": "All assertions passed"
    }

    TASK [build-generic-pkg : Template out any jinja files found and copy over] ****
    changed: [focal-sd-generic-ossec-server2] => (item={'path': '/home/user/securedrop/install_files/securedrop-ossec-server/DEBIAN/control.j2', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 911, 'inode': 132323, 'dev': 51728, 'nlink': 1, 'atime': 1627939107.636, 'mtime': 1627939107.528, 'ctime': 1627939107.528, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})

    TASK [build-generic-pkg : Ensure build directory in-place] *********************
    ok: [focal-sd-generic-ossec-agent2]

    TASK [build-ossec-deb-pkg : Install apt dependencies for building OSSEC packages.] ***
    changed: [focal-sd-generic-ossec-agent]

    TASK [build-generic-pkg : run bash script to build generic packages] ***********
    changed: [focal-sd-generic-ossec-server2]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-config]
    ok: [focal-sd-grsec]

    TASK [build-generic-pkg : Copy app code to build directory.] *******************
    changed: [focal-sd-generic-ossec-agent2]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-sec-update]
    ok: [focal-sd-keyring]

    TASK [build-generic-pkg : Track down package] **********************************
    ok: [focal-sd-generic-ossec-server2]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-generic-ossec-agent2]

    TASK [build-ossec-deb-pkg : Extract OSSEC source tarball.] *********************
    changed: [focal-sd-generic-ossec-agent]

    TASK [build-generic-pkg : Fetch back package] **********************************
    changed: [focal-sd-generic-ossec-server2] => (item={'path': '/tmp/securedrop-ossec-server-3.6.0+2.0.2~rc1+focal-amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 0, 'gid': 0, 'size': 8548, 'inode': 596031, 'dev': 93, 'nlink': 1, 'atime': 1627939595.48, 'mtime': 1627939595.48, 'ctime': 1627939595.48, 'gr_name': 'root', 'pw_name': 'root', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})

    TASK [build-generic-pkg : Create any necessary parent directories for jinja files] ***
    ok: [focal-sd-generic-ossec-agent2] => (item={'path': '/home/user/securedrop/install_files/securedrop-ossec-agent/DEBIAN/control.j2', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 721, 'inode': 132301, 'dev': 51728, 'nlink': 1, 'atime': 1627939107.636, 'mtime': 1627939107.528, 'ctime': 1627939107.528, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})

    TASK [build-ossec-deb-pkg : Create /etc directory within source directory.] ****
    ok: [focal-sd-generic-ossec-agent]

    TASK [build-ossec-deb-pkg : Run OSSEC installer script on extracted source.] ***
    changed: [focal-sd-generic-ossec-server]

    TASK [build-generic-pkg : Template out any jinja files found and copy over] ****
    changed: [focal-sd-generic-ossec-agent2] => (item={'path': '/home/user/securedrop/install_files/securedrop-ossec-agent/DEBIAN/control.j2', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 721, 'inode': 132301, 'dev': 51728, 'nlink': 1, 'atime': 1627939107.636, 'mtime': 1627939107.528, 'ctime': 1627939107.528, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})

    TASK [build-generic-pkg : Ensure package name is set] **************************
    ok: [focal-sd-keyring] => {
        "changed": false,
        "msg": "All assertions passed"
    }

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-generic-ossec-server2]

    TASK [build-ossec-deb-pkg : Create OSSEC build directory.] *********************
    changed: [focal-sd-generic-ossec-server] => (item=/tmp/build/ossec-server-3.6.0+focal-amd64)

    TASK [build-ossec-deb-pkg : Copy OSSEC preloaded vars template.] ***************
    changed: [focal-sd-generic-ossec-agent]

    TASK [build-ossec-deb-pkg : Create OSSEC build directory.] *********************
    changed: [focal-sd-generic-ossec-server] => (item=/tmp/build/ossec-server-3.6.0+focal-amd64/var)

    TASK [build-generic-pkg : Ensure build directory in-place] *********************
    ok: [focal-sd-keyring]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-grsec]
    ok: [focal-sd-config]

    TASK [build-generic-pkg : run bash script to build generic packages] ***********
    changed: [focal-sd-generic-ossec-agent2]

    TASK [build-ossec-deb-pkg : Disable JIT in OSSEC Makefile] *********************
    changed: [focal-sd-generic-ossec-agent]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-sec-update]

    TASK [build-ossec-deb-pkg : Remove client.keys to avoid overwriting existing client.keys] ***
    changed: [focal-sd-generic-ossec-server]

    TASK [build-generic-pkg : Copy app code to build directory.] *******************
    changed: [focal-sd-keyring]

    TASK [build-generic-pkg : Track down package] **********************************
    ok: [focal-sd-generic-ossec-agent2]

    TASK [build-ossec-deb-pkg : Copy /var/ossec/ to OSSEC build directory.] ********
    changed: [focal-sd-generic-ossec-server]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-keyring]

    TASK [build-generic-pkg : Fetch back package] **********************************
    changed: [focal-sd-generic-ossec-agent2] => (item={'path': '/tmp/securedrop-ossec-agent-3.6.0+2.0.2~rc1+focal-amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 0, 'gid': 0, 'size': 4664, 'inode': 599373, 'dev': 83, 'nlink': 1, 'atime': 1627939623.476, 'mtime': 1627939623.476, 'ctime': 1627939623.476, 'gr_name': 'root', 'pw_name': 'root', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})

    TASK [build-ossec-deb-pkg : Copy OSSEC DEBIAN package scripts to build directory.] ***
    changed: [focal-sd-generic-ossec-server]

    TASK [build-generic-pkg : Create any necessary parent directories for jinja files] ***
    ok: [focal-sd-keyring] => (item={'path': '/home/user/securedrop/install_files/securedrop-keyring/DEBIAN/control.j2', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 428, 'inode': 132293, 'dev': 51728, 'nlink': 1, 'atime': 1627939107.636, 'mtime': 1627939107.528, 'ctime': 1627939107.528, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})

    TASK [build-generic-pkg : Ensure package name is set] **************************
    ok: [focal-sd-grsec] => {
        "changed": false,
        "msg": "All assertions passed"
    }

    TASK [build-ossec-deb-pkg : Copy OSSEC DEBIAN/control template to build directory.] ***
    changed: [focal-sd-generic-ossec-server]

    TASK [build-generic-pkg : Ensure build directory in-place] *********************
    ok: [focal-sd-grsec]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-generic-ossec-server2]
    ok: [focal-sd-generic-ossec-agent2]

    TASK [build-generic-pkg : Template out any jinja files found and copy over] ****
    changed: [focal-sd-keyring] => (item={'path': '/home/user/securedrop/install_files/securedrop-keyring/DEBIAN/control.j2', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 428, 'inode': 132293, 'dev': 51728, 'nlink': 1, 'atime': 1627939107.636, 'mtime': 1627939107.528, 'ctime': 1627939107.528, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})

    TASK [build-ossec-deb-pkg : Copy OSSEC /usr and /etc directories to build directory.] ***
    changed: [focal-sd-generic-ossec-server] => (item=etc)

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-config]
    ok: [focal-sd-sec-update]

    TASK [build-ossec-deb-pkg : Copy OSSEC /usr and /etc directories to build directory.] ***
    changed: [focal-sd-generic-ossec-server] => (item=usr)

    TASK [build-generic-pkg : Copy app code to build directory.] *******************
    changed: [focal-sd-grsec]

    TASK [build-generic-pkg : run bash script to build generic packages] ***********
    changed: [focal-sd-keyring]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-grsec]

    TASK [build-ossec-deb-pkg : Delete the old service file] ***********************
    changed: [focal-sd-generic-ossec-server]

    TASK [build-generic-pkg : Track down package] **********************************
    ok: [focal-sd-keyring]

    TASK [build-ossec-deb-pkg : Create directory for our systemd based service file] ***
    changed: [focal-sd-generic-ossec-server]

    TASK [build-generic-pkg : Create any necessary parent directories for jinja files] ***
    ok: [focal-sd-grsec] => (item={'path': '/home/user/securedrop/install_files/securedrop-grsec-focal/DEBIAN/control.j2', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 558, 'inode': 132280, 'dev': 51728, 'nlink': 1, 'atime': 1627939107.636, 'mtime': 1627939107.528, 'ctime': 1627939107.528, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    ok: [focal-sd-grsec] => (item={'path': '/home/user/securedrop/install_files/securedrop-grsec-focal/DEBIAN/postinst.j2', 'mode': '0755', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 2086, 'inode': 132281, 'dev': 51728, 'nlink': 1, 'atime': 1627939107.636, 'mtime': 1627939107.528, 'ctime': 1627939107.528, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': True, 'wgrp': False, 'rgrp': True, 'xgrp': True, 'woth': False, 'roth': True, 'xoth': True, 'isuid': False, 'isgid': False})

    TASK [build-ossec-deb-pkg : Run OSSEC installer script on extracted source.] ***
    changed: [focal-sd-generic-ossec-agent]

    TASK [build-generic-pkg : Fetch back package] **********************************
    changed: [focal-sd-keyring] => (item={'path': '/tmp/securedrop-keyring-0.1.5+2.0.2~rc1+focal-amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 0, 'gid': 0, 'size': 8120, 'inode': 601120, 'dev': 123, 'nlink': 1, 'atime': 1627939651.128, 'mtime': 1627939651.128, 'ctime': 1627939651.128, 'gr_name': 'root', 'pw_name': 'root', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})

    TASK [build-generic-pkg : Ensure package name is set] **************************
    ok: [focal-sd-config] => {
        "changed": false,
        "msg": "All assertions passed"
    }

    TASK [build-ossec-deb-pkg : Create OSSEC build directory.] *********************
    changed: [focal-sd-generic-ossec-agent] => (item=/tmp/build/ossec-agent-3.6.0+focal-amd64)
    changed: [focal-sd-generic-ossec-agent] => (item=/tmp/build/ossec-agent-3.6.0+focal-amd64/var)

    TASK [build-ossec-deb-pkg : Copy our systemd based service file for ossec-server] ***
    changed: [focal-sd-generic-ossec-server]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-generic-ossec-server2]

    TASK [build-generic-pkg : Ensure build directory in-place] *********************
    ok: [focal-sd-config]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-generic-ossec-agent2]

    TASK [build-generic-pkg : Template out any jinja files found and copy over] ****
    changed: [focal-sd-grsec] => (item={'path': '/home/user/securedrop/install_files/securedrop-grsec-focal/DEBIAN/control.j2', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 558, 'inode': 132280, 'dev': 51728, 'nlink': 1, 'atime': 1627939107.636, 'mtime': 1627939107.528, 'ctime': 1627939107.528, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})

    TASK [build-ossec-deb-pkg : Remove client.keys to avoid overwriting existing client.keys] ***
    changed: [focal-sd-generic-ossec-agent]

    TASK [build-generic-pkg : Template out any jinja files found and copy over] ****
    changed: [focal-sd-grsec] => (item={'path': '/home/user/securedrop/install_files/securedrop-grsec-focal/DEBIAN/postinst.j2', 'mode': '0755', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 2086, 'inode': 132281, 'dev': 51728, 'nlink': 1, 'atime': 1627939107.636, 'mtime': 1627939107.528, 'ctime': 1627939107.528, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': True, 'wgrp': False, 'rgrp': True, 'xgrp': True, 'woth': False, 'roth': True, 'xoth': True, 'isuid': False, 'isgid': False})

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-sec-update]

    TASK [build-generic-pkg : Copy app code to build directory.] *******************
    changed: [focal-sd-config]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-keyring]

    TASK [build-ossec-deb-pkg : Copy /var/ossec/ to OSSEC build directory.] ********
    changed: [focal-sd-generic-ossec-agent]

    TASK [build-ossec-deb-pkg : Build SecureDrop OSSEC deb package.] ***************
    changed: [focal-sd-generic-ossec-server]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-config]

    TASK [build-ossec-deb-pkg : Copy OSSEC DEBIAN package scripts to build directory.] ***
    changed: [focal-sd-generic-ossec-agent]

    TASK [build-generic-pkg : run bash script to build generic packages] ***********
    changed: [focal-sd-grsec]

    TASK [build-ossec-deb-pkg : Delete OSSEC build directories and config files.] ***
    changed: [focal-sd-generic-ossec-server] => (item=/etc/init.d/ossec)
    changed: [focal-sd-generic-ossec-server] => (item=/etc/ossec-init.conf)

    TASK [build-generic-pkg : Create any necessary parent directories for jinja files] ***
    ok: [focal-sd-config] => (item={'path': '/home/user/securedrop/install_files/securedrop-config-focal/DEBIAN/control.j2', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 414, 'inode': 132268, 'dev': 51728, 'nlink': 1, 'atime': 1627939107.636, 'mtime': 1627939107.528, 'ctime': 1627939107.528, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})

    TASK [build-ossec-deb-pkg : Delete OSSEC build directories and config files.] ***
    changed: [focal-sd-generic-ossec-server] => (item=/var/ossec)
    changed: [focal-sd-generic-ossec-server] => (item=/tmp/OSSEC-ARCHIVE-KEY.asc)

    TASK [build-generic-pkg : Track down package] **********************************
    ok: [focal-sd-grsec]

    TASK [build-ossec-deb-pkg : Copy OSSEC DEBIAN/control template to build directory.] ***
    changed: [focal-sd-generic-ossec-agent]

    TASK [build-ossec-deb-pkg : Fetch newly built Debian packages back to localhost.] ***
    changed: [focal-sd-generic-ossec-server]

    TASK [build-generic-pkg : Fetch back package] **********************************
    changed: [focal-sd-grsec] => (item={'path': '/tmp/securedrop-grsec-5.4.136+focal-amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 0, 'gid': 0, 'size': 2996, 'inode': 604623, 'dev': 103, 'nlink': 1, 'atime': 1627939680.968, 'mtime': 1627939680.968, 'ctime': 1627939680.968, 'gr_name': 'root', 'pw_name': 'root', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})

    TASK [build-generic-pkg : Template out any jinja files found and copy over] ****
    changed: [focal-sd-config] => (item={'path': '/home/user/securedrop/install_files/securedrop-config-focal/DEBIAN/control.j2', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 414, 'inode': 132268, 'dev': 51728, 'nlink': 1, 'atime': 1627939107.636, 'mtime': 1627939107.528, 'ctime': 1627939107.528, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})

    TASK [build-ossec-deb-pkg : Copy OSSEC /usr and /etc directories to build directory.] ***
    changed: [focal-sd-generic-ossec-agent] => (item=etc)

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-generic-ossec-server2]

    TASK [build-ossec-deb-pkg : Copy OSSEC /usr and /etc directories to build directory.] ***
    changed: [focal-sd-generic-ossec-agent] => (item=usr)

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-generic-ossec-agent2]

    TASK [build-generic-pkg : run bash script to build generic packages] ***********
    changed: [focal-sd-config]

    TASK [build-ossec-deb-pkg : Delete the old service file] ***********************
    changed: [focal-sd-generic-ossec-agent]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-keyring]

    TASK [build-generic-pkg : Track down package] **********************************
    ok: [focal-sd-config]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-grsec]

    TASK [build-ossec-deb-pkg : Create directory for our systemd based service file] ***
    changed: [focal-sd-generic-ossec-agent]

    TASK [Update apt-cache for our security checker] *******************************
    changed: [focal-sd-sec-update]

    TASK [build-generic-pkg : Fetch back package] **********************************
    changed: [focal-sd-config] => (item={'path': '/tmp/securedrop-config-0.1.4+2.0.2~rc1+focal-amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 0, 'gid': 0, 'size': 3068, 'inode': 599778, 'dev': 113, 'nlink': 1, 'atime': 1627939697.604, 'mtime': 1627939697.604, 'ctime': 1627939697.604, 'gr_name': 'root', 'pw_name': 'root', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})

    TASK [build-ossec-deb-pkg : Copy our systemd based service file for ossec-agent] ***
    changed: [focal-sd-generic-ossec-agent]

    TASK [build-ossec-deb-pkg : Build SecureDrop OSSEC deb package.] ***************
    changed: [focal-sd-generic-ossec-agent]

    TASK [build-ossec-deb-pkg : Delete OSSEC build directories and config files.] ***
    changed: [focal-sd-generic-ossec-agent] => (item=/etc/init.d/ossec)
    changed: [focal-sd-generic-ossec-agent] => (item=/etc/ossec-init.conf)
    changed: [focal-sd-generic-ossec-agent] => (item=/var/ossec)
    changed: [focal-sd-generic-ossec-agent] => (item=/tmp/OSSEC-ARCHIVE-KEY.asc)

    TASK [build-ossec-deb-pkg : Fetch newly built Debian packages back to localhost.] ***
    changed: [focal-sd-generic-ossec-agent]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-generic-ossec-agent]
    ok: [focal-sd-generic-ossec-server]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-generic-ossec-agent]
    ok: [focal-sd-generic-ossec-server]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-generic-ossec-agent]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-generic-ossec-agent]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-generic-ossec-server]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-generic-ossec-agent]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-generic-ossec-server]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-generic-ossec-server]

    TASK [build-securedrop-app-code-deb-pkg : Install SecureDrop Python requirements in virtualenv for translation work] ***
    changed: [focal-sd-app]

    TASK [build-securedrop-app-code-deb-pkg : Compile PO to MO.] *******************
    changed: [focal-sd-app]

    TASK [build-securedrop-app-code-deb-pkg : Create apparmor.d directory in prep directory] ***
    changed: [focal-sd-app]

    TASK [build-securedrop-app-code-deb-pkg : Copy AppArmor profiles to prep path] ***
    changed: [focal-sd-app] => (item=usr.sbin.tor)
    changed: [focal-sd-app] => (item=usr.sbin.apache2)

    TASK [build-securedrop-app-code-deb-pkg : Replace placeholder changelog to dist-specific changelog] ***
    changed: [focal-sd-app]

    TASK [build-securedrop-app-code-deb-pkg : Replace the files required for focal package] ***
    changed: [focal-sd-app] => (item={'src': 'securedrop-app-code.triggers-focal', 'dest': '/tmp/securedrop-app-code_2.0.2~rc1+focal_amd64-prep/debian/securedrop-app-code.triggers'})

    TASK [build-securedrop-app-code-deb-pkg : Create the control file based on distribution] ***
    changed: [focal-sd-app]

    TASK [build-securedrop-app-code-deb-pkg : Create lib/systemd/services directory in prep directory] ***
    changed: [focal-sd-app]

    TASK [build-securedrop-app-code-deb-pkg : Copy systemd service configurations to prep path] ***
    changed: [focal-sd-app] => (item=securedrop_rqrequeue.service)
    changed: [focal-sd-app] => (item=securedrop_rqworker.service)
    changed: [focal-sd-app] => (item=securedrop_shredder.service)
    changed: [focal-sd-app] => (item=securedrop_source_deleter.service)

    TASK [build-securedrop-app-code-deb-pkg : Create sdist in prep dir] ************
    changed: [focal-sd-app]

    TASK [build-securedrop-app-code-deb-pkg : Create build dir] ********************
    changed: [focal-sd-app]

    TASK [build-securedrop-app-code-deb-pkg : Extract sdist to build dir] **********
    changed: [focal-sd-app]

    TASK [build-securedrop-app-code-deb-pkg : Create empty static asset directories in build dir] ***
    changed: [focal-sd-app] => (item=/tmp/securedrop-app-code_2.0.2~rc1+focal_amd64/var/www/securedrop/static/gen)
    changed: [focal-sd-app] => (item=/tmp/securedrop-app-code_2.0.2~rc1+focal_amd64/var/www/securedrop/static/.webassets-cache)
    changed: [focal-sd-app] => (item=/tmp/securedrop-app-code_2.0.2~rc1+focal_amd64/var/www/securedrop/.well-known/pki-validation)

    TASK [build-securedrop-app-code-deb-pkg : Build securedrop-app-code Debian package] ***
    changed: [focal-sd-app]

    TASK [build-securedrop-app-code-deb-pkg : Find newly built Debian package] *****
    ok: [focal-sd-app]

    TASK [build-securedrop-app-code-deb-pkg : Fetch newly built Debian packages back to localhost] ***
    changed: [focal-sd-app] => (item={'path': '/tmp/securedrop-app-code_2.0.2~rc1+focal_amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 0, 'gid': 0, 'size': 12778720, 'inode': 590647, 'dev': 53, 'nlink': 1, 'atime': 1627940075.632, 'mtime': 1627940075.444, 'ctime': 1627940075.444, 'gr_name': 'root', 'pw_name': 'root', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    changed: [focal-sd-app] => (item={'path': '/tmp/securedrop-app-code_2.0.2~rc1+focal.tar.gz', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 0, 'gid': 0, 'size': 2088142, 'inode': 589714, 'dev': 53, 'nlink': 1, 'atime': 1627939848.48, 'mtime': 1627939848.468, 'ctime': 1627939848.476, 'gr_name': 'root', 'pw_name': 'root', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-app]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-app]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-app]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-app]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-app]

    PLAY [Give dpkg verify container access to debs] *******************************

    TASK [Discover local debian build files] ***************************************
    ok: [focal-sd-dpkg-verification]

    TASK [Create build dir] ********************************************************
    ok: [focal-sd-dpkg-verification]

    TASK [Drop debian files into container] ****************************************
    changed: [focal-sd-dpkg-verification] => (item={'path': '/home/user/securedrop/build/focal/securedrop-keyring-0.1.5+2.0.2~rc1+focal-amd64.deb', 'mode': '0600', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 8120, 'inode': 131346, 'dev': 51728, 'nlink': 1, 'atime': 1627939660.948, 'mtime': 1627939660.948, 'ctime': 1627939660.948, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': False, 'xgrp': False, 'woth': False, 'roth': False, 'xoth': False, 'isuid': False, 'isgid': False})
    changed: [focal-sd-dpkg-verification] => (item={'path': '/home/user/securedrop/build/focal/ossec-server-3.6.0+focal-amd64.deb', 'mode': '0600', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 735828, 'inode': 131348, 'dev': 51728, 'nlink': 1, 'atime': 1627939691.132, 'mtime': 1627939691.1, 'ctime': 1627939691.1, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': False, 'xgrp': False, 'woth': False, 'roth': False, 'xoth': False, 'isuid': False, 'isgid': False})
    changed: [focal-sd-dpkg-verification] => (item={'path': '/home/user/securedrop/build/focal/securedrop-config-0.1.4+2.0.2~rc1+focal-amd64.deb', 'mode': '0600', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 3068, 'inode': 142793, 'dev': 51728, 'nlink': 1, 'atime': 1627939707.076, 'mtime': 1627939707.068, 'ctime': 1627939707.068, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': False, 'xgrp': False, 'woth': False, 'roth': False, 'xoth': False, 'isuid': False, 'isgid': False})
    changed: [focal-sd-dpkg-verification] => (item={'path': '/home/user/securedrop/build/focal/securedrop-grsec-5.4.136+focal-amd64.deb', 'mode': '0600', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 2996, 'inode': 131493, 'dev': 51728, 'nlink': 1, 'atime': 1627939691.256, 'mtime': 1627939691.256, 'ctime': 1627939691.256, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': False, 'xgrp': False, 'woth': False, 'roth': False, 'xoth': False, 'isuid': False, 'isgid': False})
    changed: [focal-sd-dpkg-verification] => (item={'path': '/home/user/securedrop/build/focal/securedrop-ossec-agent-3.6.0+2.0.2~rc1+focal-amd64.deb', 'mode': '0600', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 4664, 'inode': 131155, 'dev': 51728, 'nlink': 1, 'atime': 1627939632.6, 'mtime': 1627939632.6, 'ctime': 1627939632.6, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': False, 'xgrp': False, 'woth': False, 'roth': False, 'xoth': False, 'isuid': False, 'isgid': False})
    changed: [focal-sd-dpkg-verification] => (item={'path': '/home/user/securedrop/build/focal/ossec-agent-3.6.0+focal-amd64.deb', 'mode': '0600', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 288696, 'inode': 142853, 'dev': 51728, 'nlink': 1, 'atime': 1627939727.148, 'mtime': 1627939727.144, 'ctime': 1627939727.144, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': False, 'xgrp': False, 'woth': False, 'roth': False, 'xoth': False, 'isuid': False, 'isgid': False})
    changed: [focal-sd-dpkg-verification] => (item={'path': '/home/user/securedrop/build/focal/securedrop-ossec-server-3.6.0+2.0.2~rc1+focal-amd64.deb', 'mode': '0600', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 8548, 'inode': 131345, 'dev': 51728, 'nlink': 1, 'atime': 1627939607.504, 'mtime': 1627939607.504, 'ctime': 1627939607.504, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': False, 'xgrp': False, 'woth': False, 'roth': False, 'xoth': False, 'isuid': False, 'isgid': False})
    changed: [focal-sd-dpkg-verification] => (item={'path': '/home/user/securedrop/build/focal/securedrop-app-code_2.0.2~rc1+focal_amd64.deb', 'mode': '0600', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 12778720, 'inode': 143029, 'dev': 51728, 'nlink': 1, 'atime': 1627940079.016, 'mtime': 1627940079.008, 'ctime': 1627940079.008, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': False, 'xgrp': False, 'woth': False, 'roth': False, 'xoth': False, 'isuid': False, 'isgid': False})

    PLAY RECAP *********************************************************************
    focal-sd-app               : ok=33   changed=26   unreachable=0    failed=0    skipped=97   rescued=0    ignored=0
    focal-sd-config            : ok=14   changed=4    unreachable=0    failed=0    skipped=116  rescued=0    ignored=0
    focal-sd-dpkg-verification : ok=3    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
    focal-sd-generic-ossec-agent : ok=33   changed=24   unreachable=0    failed=0    skipped=97   rescued=0    ignored=0
    focal-sd-generic-ossec-agent2 : ok=14   changed=4    unreachable=0    failed=0    skipped=116  rescued=0    ignored=0
    focal-sd-generic-ossec-server : ok=33   changed=24   unreachable=0    failed=0    skipped=97   rescued=0    ignored=0
    focal-sd-generic-ossec-server2 : ok=14   changed=4    unreachable=0    failed=0    skipped=116  rescued=0    ignored=0
    focal-sd-grsec             : ok=14   changed=4    unreachable=0    failed=0    skipped=116  rescued=0    ignored=0
    focal-sd-keyring           : ok=14   changed=4    unreachable=0    failed=0    skipped=116  rescued=0    ignored=0
    focal-sd-sec-update        : ok=7    changed=1    unreachable=0    failed=0    skipped=123  rescued=0    ignored=0

--> Inventory /home/user/securedrop/molecule/builder-focal/../../install_files/ansible-base/group_vars linked to /home/user/.cache/molecule/securedrop/builder-focal/inventory/group_vars
--> Scenario: 'builder-focal'
--> Action: 'verify'
--> Executing Testinfra tests found in /home/user/securedrop/molecule/builder-focal/tests/...
    ============================= test session starts ==============================
    platform linux -- Python 3.7.3, pytest-6.1.1, py-1.10.0, pluggy-0.13.1
    rootdir: /home/user/securedrop/molecule, configfile: pytest.ini
    plugins: xdist-2.1.0, testinfra-5.3.1, forked-1.3.0
gw0 [146] / gw1 [146]
    ....................................................................F... [ 49%]
    ...........................................................x............ [ 98%]
    ..                                                                       [100%]
    =================================== FAILURES ===================================
    __________ test_ensure_no_updates_avail[docker://focal-sd-sec-update] __________
    [gw1] linux -- Python 3.7.3 /home/user/.virtualenvs/sd/bin/python3

    host = <testinfra.host.Host docker://focal-sd-sec-update>

        @pytest.mark.skipif(not test_should_run(), reason="Only tested for RCs and builder updates")
        def test_ensure_no_updates_avail(host):
            """
                Test to make sure that there are no security-updates in the
                base builder container.
            """
            # Filter out all the security repos to their own file
            # without this change all the package updates appeared as if they were
            # coming from normal ubuntu update channel (since they get posted to both)
            host.run('egrep "^deb.*security" /etc/apt/sources.list > /tmp/sec.list')

            dist_upgrade_simulate = host.run('apt-get -s dist-upgrade '
                                             '-oDir::Etc::Sourcelist=/tmp/sec.list '
                                             '|grep "^Inst" |grep -i security')

            # If the grep was successful that means security package updates found
            # otherwise we get a non-zero exit code so no updates needed.
    >       assert dist_upgrade_simulate.rc != 0
    E       assert 0 != 0
    E        +  where 0 = CommandResult(command=b'apt-get -s dist-upgrade -oDir::Etc::Sourcelist=/tmp/sec.list |grep "^Inst" |grep -i security',...urity [amd64])\nInst ruby2.7 [2.7.0-5ubuntu1.4] (2.7.0-5ubuntu1.5 Ubuntu:20.04/focal-security [amd64])\n', stderr=None).rc

    tests/test_security_updates.py:43: AssertionError
    =========================== short test summary info ============================
    FAILED tests/test_security_updates.py::test_ensure_no_updates_avail[docker:/focal-sd-sec-update]
    ================== 1 failed, 144 passed, 1 xfailed in 54.29s ===================
An error occurred during the test sequence action: 'verify'. Cleaning up.
--> Inventory /home/user/securedrop/molecule/builder-focal/../../install_files/ansible-base/group_vars linked to /home/user/.cache/molecule/securedrop/builder-focal/inventory/group_vars
--> Scenario: 'builder-focal'
--> Action: 'cleanup'
Skipping, cleanup playbook not configured.
--> Inventory /home/user/securedrop/molecule/builder-focal/../../install_files/ansible-base/group_vars linked to /home/user/.cache/molecule/securedrop/builder-focal/inventory/group_vars
--> Scenario: 'builder-focal'
--> Action: 'destroy'

    PLAY [Destroy] *****************************************************************

    TASK [Destroy molecule instance(s)] ********************************************
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-app'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-generic-ossec-agent'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-generic-ossec-server'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-generic-ossec-agent2'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-generic-ossec-server2'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-grsec'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-config'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-keyring'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-sec-update'})
    changed: [localhost] => (item={'groups': ['testers'], 'name': 'focal-sd-dpkg-verification'})

    PLAY RECAP *********************************************************************
    localhost                  : ok=1    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0

--> Pruning extra files from scenario ephemeral directory
make: *** [Makefile:293: build-debs] Error 1
[user@fpf-dev-dvm:~/securedrop] [sd] 80a6f5e92 18m6s 2 ±
 $ sha256sum build/
focal/      .gitignore
[user@fpf-dev-dvm:~/securedrop] [sd] 80a6f5e92 18m6s 2 ±
 $ sha256sum build/focal/*
44996274d03227c522d432785d848ae51a8b830d02aa6395d580e725a2e9eda2  build/focal/ossec-agent-3.6.0+focal-amd64.deb
80fdae24b09f79d314ce6a2c5d25d1971c0b0b3aa9878138ec4ed6081d3bd70a  build/focal/ossec-server-3.6.0+focal-amd64.deb
dcd1a699538352d7864909547145173145fba623bee5838aca48605173492db8  build/focal/securedrop-app-code_2.0.2~rc1+focal_amd64.deb
636fe93dff720f9246e6ed75f8d24139192a36cf84aeda9e823ae14622102ed8  build/focal/securedrop-app-code_2.0.2~rc1+focal.tar.gz
566db0b983ee177dec8ea3148043b206081295eb8396a004df9685c8febdb9a9  build/focal/securedrop-config-0.1.4+2.0.2~rc1+focal-amd64.deb
05e248bc6da3047803d9a93c3eb70b903e8f0e1ba4925da074816b249905753f  build/focal/securedrop-grsec-5.4.136+focal-amd64.deb
6111c3cc0899d1e9235716d6b75b1f7d2cb3bbaf95947677609b24937392bcaf  build/focal/securedrop-keyring-0.1.5+2.0.2~rc1+focal-amd64.deb
1a426e4f78482be2fe099ccf6ef7bb67a4734fd3d5a2a59a1fcaa47e2d890f2f  build/focal/securedrop-ossec-agent-3.6.0+2.0.2~rc1+focal-amd64.deb
340067fd4287efd91394e71f9b90d04cc2c9f6c69f3b0e17bc29978b1b92cd91  build/focal/securedrop-ossec-server-3.6.0+2.0.2~rc1+focal-amd64.deb
[user@fpf-dev-dvm:~/securedrop] [sd] 80a6f5e92 26m2s ±

