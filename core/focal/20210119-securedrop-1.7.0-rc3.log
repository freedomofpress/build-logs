(.venv) user@dev-workstation:~/securedrop$ git tag -v 1.7.0-rc3
object ab4db4196f1e47867a2df8bd2e5463ae70626ba8
type commit
tag 1.7.0-rc3
tagger Allie Crevier <allie@freedom.press> 1611100281 -0800

SecureDrop 1.7.0-rc3
gpg: Signature made Tue 19 Jan 2021 06:51:21 PM EST
gpg:                using RSA key B3BC38A1FEDE0B8728BAB9BF11738E09A8EB8645
gpg: Can't check signature: No public key
(.venv) user@dev-workstation:~/securedrop$ git checkout 1.7.0-rc3
Note: checking out '1.7.0-rc3'.

You are in 'detached HEAD' state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by performing another checkout.

If you want to create a new branch to retain commits you create, you may
do so (now or later) by using -b with the checkout command again. Example:

  git checkout -b <new-branch-name>

HEAD is now at ab4db4196 Merge pull request #5723 from freedomofpress/backports-and-170-rc3
(.venv) user@dev-workstation:~/securedrop$ make build-debs-focal 
Building SecureDrop Debian packages for Focal...
Using active Python 3 virtualenv in /home/user/securedrop/.venv
--> Test matrix
    
└── builder-focal
    ├── destroy
    ├── create
    ├── converge
    ├── verify
    └── destroy
    
--> Inventory /home/user/securedrop/molecule/builder-focal/../../install_files/ansible-base/group_vars linked to /home/user/.cache/molecule/securedrop/builder-focal/inventory/group_vars
--> Scenario: 'builder-focal'
--> Action: 'destroy'
--> Sanity checks: 'docker'
    
    PLAY [Destroy] *****************************************************************
    
    TASK [Destroy molecule instance(s)] ********************************************
    ok: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-app'})
    ok: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-generic-ossec-agent'})
    ok: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-generic-ossec-server'})
    ok: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-generic-ossec-agent2'})
    ok: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-generic-ossec-server2'})
    ok: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-grsec'})
    ok: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-config'})
    ok: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-keyring'})
    ok: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-sec-update'})
    ok: [localhost] => (item={'groups': ['testers'], 'name': 'focal-sd-dpkg-verification'})
    
    PLAY RECAP *********************************************************************
    localhost                  : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
    
--> Inventory /home/user/securedrop/molecule/builder-focal/../../install_files/ansible-base/group_vars linked to /home/user/.cache/molecule/securedrop/builder-focal/inventory/group_vars
--> Scenario: 'builder-focal'
--> Action: 'create'
    
    PLAY [Create] ******************************************************************
    
    TASK [debug] *******************************************************************
    ok: [localhost] => {
        "msg": "Building with Docker image quay.io/freedomofpress/sd-docker-builder-focal@sha256:10d4b7f28a3de6f2bd9e6a55dd5fdb448fb90442d15a013f73942b4d2e5ce259"
    }
    
    TASK [Create builders] *********************************************************
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-app'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-generic-ossec-agent'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-generic-ossec-server'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-generic-ossec-agent2'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-generic-ossec-server2'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-grsec'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-config'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-keyring'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-sec-update'})
    changed: [localhost] => (item={'groups': ['testers'], 'name': 'focal-sd-dpkg-verification'})
    
    PLAY RECAP *********************************************************************
    localhost                  : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
    
--> Inventory /home/user/securedrop/molecule/builder-focal/../../install_files/ansible-base/group_vars linked to /home/user/.cache/molecule/securedrop/builder-focal/inventory/group_vars
--> Scenario: 'builder-focal'
--> Action: 'converge'
    
    PLAY [Build SecureDrop application Debian package from local repository.] ******
    
    TASK [Gathering Facts] *********************************************************
    ok: [focal-sd-grsec]
    ok: [focal-sd-config]
    ok: [focal-sd-app]
    ok: [focal-sd-generic-ossec-server]
    ok: [focal-sd-keyring]
    ok: [focal-sd-generic-ossec-agent]
    ok: [focal-sd-generic-ossec-server2]
    ok: [focal-sd-generic-ossec-agent2]
    ok: [focal-sd-sec-update]
    
    TASK [build-securedrop-app-code-deb-pkg : Copy install_files/securedrop-app-code to prep directory] ***
    changed: [focal-sd-app]
    
    TASK [build-securedrop-app-code-deb-pkg : Copy app code to prep directory under var/www/securedrop] ***
    changed: [focal-sd-app]
    
    TASK [build-securedrop-app-code-deb-pkg : Copy setup.py to prep directory] *****
    changed: [focal-sd-app]
    
    TASK [build-securedrop-app-code-deb-pkg : Copy MANIFEST.in to prep directory] ***
    changed: [focal-sd-app]
    
    TASK [build-securedrop-app-code-deb-pkg : Copy requirements.txt to prep directory] ***
    changed: [focal-sd-app]
    
    TASK [build-ossec-deb-pkg : Create src path folder] ****************************
    changed: [focal-sd-generic-ossec-server] => (item=/tmp/build/ossec-server)
    ok: [focal-sd-generic-ossec-server] => (item=/tmp/build)
    
    TASK [build-securedrop-app-code-deb-pkg : Control the version of setuptools used in the default construction of virtual environments] ***
    changed: [focal-sd-app]
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via 
squash_actions is deprecated. Instead of using a loop to supply multiple items 
and specifying `name: "{{ item }}"`, please use `name: '{{ 
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
    
    TASK [build-securedrop-app-code-deb-pkg : Install sass Ruby gem] ***************
    changed: [focal-sd-app]
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via 
squash_actions is deprecated. Instead of using a loop to supply multiple items 
and specifying `name: "{{ item }}"`, please use `name: '{{ 
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via 
squash_actions is deprecated. Instead of using a loop to supply multiple items 
and specifying `name: "{{ item }}"`, please use `name: '{{ 
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via 
squash_actions is deprecated. Instead of using a loop to supply multiple items 
and specifying `name: "{{ item }}"`, please use `name: '{{ 
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via 
squash_actions is deprecated. Instead of using a loop to supply multiple items 
and specifying `name: "{{ item }}"`, please use `name: '{{ 
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via 
squash_actions is deprecated. Instead of using a loop to supply multiple items 
and specifying `name: "{{ item }}"`, please use `name: '{{ 
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via 
squash_actions is deprecated. Instead of using a loop to supply multiple items 
and specifying `name: "{{ item }}"`, please use `name: '{{ 
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
    
    TASK [build-securedrop-app-code-deb-pkg : Create static asset directories.] ****
    changed: [focal-sd-app] => (item=/tmp/securedrop-app-code_1.7.0~rc3+focal_amd64-prep/var/www/securedrop/static/css)
    changed: [focal-sd-app] => (item=/tmp/securedrop-app-code_1.7.0~rc3+focal_amd64-prep/var/www/securedrop/static/gen)
    changed: [focal-sd-app] => (item=/tmp/securedrop-app-code_1.7.0~rc3+focal_amd64-prep/var/www/securedrop/static/.webassets-cache)
    
    TASK [build-securedrop-app-code-deb-pkg : Compile SASS to CSS.] ****************
    changed: [focal-sd-app]
    
    TASK [build-ossec-deb-pkg : Install python-requests for URL fetching] **********
    ok: [focal-sd-generic-ossec-server]
    
    TASK [build-securedrop-app-code-deb-pkg : Remove temporary SASS directory from package build directory.] ***
    changed: [focal-sd-app] => (item=sass)
    changed: [focal-sd-app] => (item=.sass-cache)
    
    TASK [build-ossec-deb-pkg : Copy over current directory for repo build] ********
    changed: [focal-sd-generic-ossec-server]
    
    TASK [build-ossec-deb-pkg : Include OSSEC download URLs.] **********************
    ok: [focal-sd-generic-ossec-server]
    
    TASK [build-ossec-deb-pkg : Download OSSEC tarball.] ***************************
    changed: [focal-sd-generic-ossec-server]
[WARNING]: Module remote_tmp /root/.ansible/tmp did not exist and was created
with a mode of 0700, this may cause issues when running as another user. To
avoid this, create the remote_tmp dir with the correct permissions manually
    
    TASK [build-ossec-deb-pkg : Download OSSEC signature.] *************************
    changed: [focal-sd-generic-ossec-server]
    
    TASK [build-ossec-deb-pkg : Copy OSSEC archive GPG key.] ***********************
    changed: [focal-sd-generic-ossec-server]
    
    TASK [build-ossec-deb-pkg : Create src path folder] ****************************
    changed: [focal-sd-generic-ossec-agent] => (item=/tmp/build/ossec-agent)
    ok: [focal-sd-generic-ossec-agent] => (item=/tmp/build)
    
    TASK [build-ossec-deb-pkg : Import OSSEC archive GPG key.] *********************
    changed: [focal-sd-generic-ossec-server]
    
    TASK [build-ossec-deb-pkg : Verify signature of OSSEC tarball.] ****************
    changed: [focal-sd-generic-ossec-server]
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via 
squash_actions is deprecated. Instead of using a loop to supply multiple items 
and specifying `name: "{{ item }}"`, please use `name: '{{ 
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via 
squash_actions is deprecated. Instead of using a loop to supply multiple items 
and specifying `name: "{{ item }}"`, please use `name: '{{ 
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via 
squash_actions is deprecated. Instead of using a loop to supply multiple items 
and specifying `name: "{{ item }}"`, please use `name: '{{ 
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via 
squash_actions is deprecated. Instead of using a loop to supply multiple items 
and specifying `name: "{{ item }}"`, please use `name: '{{ 
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via 
squash_actions is deprecated. Instead of using a loop to supply multiple items 
and specifying `name: "{{ item }}"`, please use `name: '{{ 
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via 
squash_actions is deprecated. Instead of using a loop to supply multiple items 
and specifying `name: "{{ item }}"`, please use `name: '{{ 
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via 
squash_actions is deprecated. Instead of using a loop to supply multiple items 
and specifying `name: "{{ item }}"`, please use `name: '{{ 
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
    
    TASK [build-ossec-deb-pkg : Install python-requests for URL fetching] **********
    ok: [focal-sd-generic-ossec-agent]
    
    TASK [build-ossec-deb-pkg : Install apt dependencies for building OSSEC packages.] ***
    changed: [focal-sd-generic-ossec-server] => (item=libpcre2-dev)
    
    TASK [build-ossec-deb-pkg : Copy over current directory for repo build] ********
    changed: [focal-sd-generic-ossec-agent]
    
    TASK [build-ossec-deb-pkg : Include OSSEC download URLs.] **********************
    ok: [focal-sd-generic-ossec-agent]
    
    TASK [build-ossec-deb-pkg : Install apt dependencies for building OSSEC packages.] ***
    ok: [focal-sd-generic-ossec-server] => (item=libevent-dev)
    
    TASK [build-ossec-deb-pkg : Download OSSEC tarball.] ***************************
    changed: [focal-sd-generic-ossec-agent]
    
    TASK [build-ossec-deb-pkg : Download OSSEC signature.] *************************
    changed: [focal-sd-generic-ossec-agent]
    
    TASK [build-ossec-deb-pkg : Extract OSSEC source tarball.] *********************
    changed: [focal-sd-generic-ossec-server]
    
    TASK [build-ossec-deb-pkg : Create /etc directory within source directory.] ****
    ok: [focal-sd-generic-ossec-server]
    
    TASK [build-ossec-deb-pkg : Copy OSSEC archive GPG key.] ***********************
    changed: [focal-sd-generic-ossec-agent]
    
    TASK [build-generic-pkg : Ensure package name is set] **************************
    ok: [focal-sd-generic-ossec-server2] => {
        "changed": false,
        "msg": "All assertions passed"
    }
    
    TASK [build-ossec-deb-pkg : Import OSSEC archive GPG key.] *********************
    changed: [focal-sd-generic-ossec-agent]
    
    TASK [build-ossec-deb-pkg : Copy OSSEC preloaded vars template.] ***************
    changed: [focal-sd-generic-ossec-server]
    
    TASK [build-generic-pkg : Ensure build directory in-place] *********************
    ok: [focal-sd-generic-ossec-server2]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-grsec -> localhost]
    ok: [focal-sd-config -> localhost]
    ok: [focal-sd-generic-ossec-agent2 -> localhost]
    ok: [focal-sd-keyring -> localhost]
    
    TASK [build-ossec-deb-pkg : Verify signature of OSSEC tarball.] ****************
    changed: [focal-sd-generic-ossec-agent]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-sec-update -> localhost]
    
    TASK [build-ossec-deb-pkg : Disable JIT in OSSEC Makefile] *********************
    changed: [focal-sd-generic-ossec-server]
    
    TASK [build-generic-pkg : Copy app code to build directory.] *******************
    changed: [focal-sd-generic-ossec-server2]
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via 
squash_actions is deprecated. Instead of using a loop to supply multiple items 
and specifying `name: "{{ item }}"`, please use `name: '{{ 
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-generic-ossec-server2 -> localhost]
    
    TASK [build-generic-pkg : Create any necessary parent directories for jinja files] ***
    ok: [focal-sd-generic-ossec-server2] => (item={'path': '/home/user/securedrop/install_files/securedrop-ossec-server/DEBIAN/control.j2', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 848, 'inode': 5648, 'dev': 51728, 'nlink': 1, 'atime': 1611102638.11, 'mtime': 1611102638.11, 'ctime': 1611102638.11, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    
    TASK [build-generic-pkg : Ensure package name is set] **************************
    ok: [focal-sd-generic-ossec-agent2] => {
        "changed": false,
        "msg": "All assertions passed"
    }
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-config -> localhost]
    
    TASK [build-generic-pkg : Ensure build directory in-place] *********************
    ok: [focal-sd-generic-ossec-agent2]
    
    TASK [build-generic-pkg : Template out any jinja files found and copy over] ****
    changed: [focal-sd-generic-ossec-server2] => (item={'path': '/home/user/securedrop/install_files/securedrop-ossec-server/DEBIAN/control.j2', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 848, 'inode': 5648, 'dev': 51728, 'nlink': 1, 'atime': 1611102638.11, 'mtime': 1611102638.11, 'ctime': 1611102638.11, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-grsec -> localhost]
    ok: [focal-sd-keyring -> localhost]
    ok: [focal-sd-sec-update -> localhost]
    
    TASK [build-generic-pkg : Copy app code to build directory.] *******************
    changed: [focal-sd-generic-ossec-agent2]
    
    TASK [build-generic-pkg : run bash script to build generic packages] ***********
    changed: [focal-sd-generic-ossec-server2]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-generic-ossec-agent2 -> localhost]
    
    TASK [build-generic-pkg : Track down package] **********************************
    ok: [focal-sd-generic-ossec-server2]
    
    TASK [build-generic-pkg : Create any necessary parent directories for jinja files] ***
    ok: [focal-sd-generic-ossec-agent2] => (item={'path': '/home/user/securedrop/install_files/securedrop-ossec-agent/DEBIAN/control.j2', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 658, 'inode': 5579, 'dev': 51728, 'nlink': 1, 'atime': 1611102638.11, 'mtime': 1611102638.11, 'ctime': 1611102638.11, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    
    TASK [build-ossec-deb-pkg : Install apt dependencies for building OSSEC packages.] ***
    changed: [focal-sd-generic-ossec-agent] => (item=libpcre2-dev)
    
    TASK [build-generic-pkg : Ensure package name is set] **************************
    ok: [focal-sd-keyring] => {
        "changed": false,
        "msg": "All assertions passed"
    }
    
    TASK [build-generic-pkg : Fetch back package] **********************************
    changed: [focal-sd-generic-ossec-server2] => (item={'path': '/tmp/securedrop-ossec-server-3.6.0+1.7.0~rc3-amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 0, 'gid': 0, 'size': 7920, 'inode': 639003, 'dev': 99, 'nlink': 1, 'atime': 1611103282.375, 'mtime': 1611103282.375, 'ctime': 1611103282.375, 'gr_name': 'root', 'pw_name': 'root', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    
    TASK [build-generic-pkg : Ensure build directory in-place] *********************
    ok: [focal-sd-keyring]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-config -> localhost]
    
    TASK [build-generic-pkg : Template out any jinja files found and copy over] ****
    changed: [focal-sd-generic-ossec-agent2] => (item={'path': '/home/user/securedrop/install_files/securedrop-ossec-agent/DEBIAN/control.j2', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 658, 'inode': 5579, 'dev': 51728, 'nlink': 1, 'atime': 1611102638.11, 'mtime': 1611102638.11, 'ctime': 1611102638.11, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-grsec -> localhost]
    
    TASK [build-generic-pkg : Copy app code to build directory.] *******************
    changed: [focal-sd-keyring]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-sec-update -> localhost]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-generic-ossec-server2 -> localhost]
    
    TASK [build-generic-pkg : run bash script to build generic packages] ***********
    changed: [focal-sd-generic-ossec-agent2]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-keyring -> localhost]
    
    TASK [build-generic-pkg : Track down package] **********************************
    ok: [focal-sd-generic-ossec-agent2]
    
    TASK [build-ossec-deb-pkg : Install apt dependencies for building OSSEC packages.] ***
    ok: [focal-sd-generic-ossec-agent] => (item=libevent-dev)
    
    TASK [build-generic-pkg : Ensure package name is set] **************************
    ok: [focal-sd-grsec] => {
        "changed": false,
        "msg": "All assertions passed"
    }
    
    TASK [build-generic-pkg : Fetch back package] **********************************
    changed: [focal-sd-generic-ossec-agent2] => (item={'path': '/tmp/securedrop-ossec-agent-3.6.0+1.7.0~rc3-amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 0, 'gid': 0, 'size': 4656, 'inode': 639095, 'dev': 87, 'nlink': 1, 'atime': 1611103301.195, 'mtime': 1611103301.195, 'ctime': 1611103301.195, 'gr_name': 'root', 'pw_name': 'root', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    
    TASK [build-generic-pkg : run bash script to build generic packages] ***********
    changed: [focal-sd-keyring]
    
    TASK [build-generic-pkg : Ensure build directory in-place] *********************
    ok: [focal-sd-grsec]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-config -> localhost]
    
    TASK [build-ossec-deb-pkg : Extract OSSEC source tarball.] *********************
    changed: [focal-sd-generic-ossec-agent]
    
    TASK [build-generic-pkg : Track down package] **********************************
    ok: [focal-sd-keyring]
    
    TASK [build-generic-pkg : Copy app code to build directory.] *******************
    changed: [focal-sd-grsec]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-sec-update -> localhost]
    
    TASK [build-ossec-deb-pkg : Create /etc directory within source directory.] ****
    ok: [focal-sd-generic-ossec-agent]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-generic-ossec-agent2 -> localhost]
    
    TASK [build-generic-pkg : Fetch back package] **********************************
    changed: [focal-sd-keyring] => (item={'path': '/tmp/securedrop-keyring-0.1.4+1.7.0~rc3-amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 0, 'gid': 0, 'size': 5920, 'inode': 639156, 'dev': 135, 'nlink': 1, 'atime': 1611103312.546, 'mtime': 1611103312.546, 'ctime': 1611103312.546, 'gr_name': 'root', 'pw_name': 'root', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-grsec -> localhost]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-generic-ossec-server2 -> localhost]
    
    TASK [build-generic-pkg : Create any necessary parent directories for jinja files] ***
    changed: [focal-sd-grsec] => (item={'path': '/home/user/securedrop/install_files/securedrop-grsec-focal/DEBIAN/postinst.j2', 'mode': '0755', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 2058, 'inode': 5543, 'dev': 51728, 'nlink': 1, 'atime': 1610485790.689, 'mtime': 1610485775.394, 'ctime': 1610485775.394, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': True, 'wgrp': False, 'rgrp': True, 'xgrp': True, 'woth': False, 'roth': True, 'xoth': True, 'isuid': False, 'isgid': False})
    ok: [focal-sd-grsec] => (item={'path': '/home/user/securedrop/install_files/securedrop-grsec-focal/DEBIAN/control.j2', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 544, 'inode': 5542, 'dev': 51728, 'nlink': 1, 'atime': 1610485790.689, 'mtime': 1610485775.394, 'ctime': 1610485775.394, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    
    TASK [build-ossec-deb-pkg : Copy OSSEC preloaded vars template.] ***************
    changed: [focal-sd-generic-ossec-agent]
    
    TASK [build-generic-pkg : Ensure package name is set] **************************
    ok: [focal-sd-config] => {
        "changed": false,
        "msg": "All assertions passed"
    }
    
    TASK [build-ossec-deb-pkg : Run OSSEC installer script on extracted source.] ***
    changed: [focal-sd-generic-ossec-server]
    
    TASK [build-ossec-deb-pkg : Disable JIT in OSSEC Makefile] *********************
    changed: [focal-sd-generic-ossec-agent]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-keyring -> localhost]
    
    TASK [build-generic-pkg : Ensure build directory in-place] *********************
    ok: [focal-sd-config]
    
    TASK [build-ossec-deb-pkg : Create OSSEC build directory.] *********************
    changed: [focal-sd-generic-ossec-server] => (item=/tmp/build/ossec-server-3.6.0-amd64)
    
    TASK [build-generic-pkg : Template out any jinja files found and copy over] ****
    changed: [focal-sd-grsec] => (item={'path': '/home/user/securedrop/install_files/securedrop-grsec-focal/DEBIAN/postinst.j2', 'mode': '0755', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 2058, 'inode': 5543, 'dev': 51728, 'nlink': 1, 'atime': 1610485790.689, 'mtime': 1610485775.394, 'ctime': 1610485775.394, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': True, 'wgrp': False, 'rgrp': True, 'xgrp': True, 'woth': False, 'roth': True, 'xoth': True, 'isuid': False, 'isgid': False})
    
    TASK [build-ossec-deb-pkg : Create OSSEC build directory.] *********************
    changed: [focal-sd-generic-ossec-server] => (item=/tmp/build/ossec-server-3.6.0-amd64/var)
    
    TASK [build-generic-pkg : Copy app code to build directory.] *******************
    changed: [focal-sd-config]
    
    TASK [build-generic-pkg : Template out any jinja files found and copy over] ****
    changed: [focal-sd-grsec] => (item={'path': '/home/user/securedrop/install_files/securedrop-grsec-focal/DEBIAN/control.j2', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 544, 'inode': 5542, 'dev': 51728, 'nlink': 1, 'atime': 1610485790.689, 'mtime': 1610485775.394, 'ctime': 1610485775.394, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    
    TASK [build-ossec-deb-pkg : Remove client.keys to avoid overwriting existing client.keys] ***
    changed: [focal-sd-generic-ossec-server]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-sec-update -> localhost]
    ok: [focal-sd-config -> localhost]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-generic-ossec-agent2 -> localhost]
    ok: [focal-sd-generic-ossec-server2 -> localhost]
    
    TASK [build-ossec-deb-pkg : Copy /var/ossec/ to OSSEC build directory.] ********
    changed: [focal-sd-generic-ossec-server]
    
    TASK [build-generic-pkg : run bash script to build generic packages] ***********
    changed: [focal-sd-grsec]
    
    TASK [build-ossec-deb-pkg : Copy OSSEC DEBIAN package scripts to build directory.] ***
    changed: [focal-sd-generic-ossec-server]
    
    TASK [build-generic-pkg : Track down package] **********************************
    ok: [focal-sd-grsec]
    
    TASK [build-generic-pkg : run bash script to build generic packages] ***********
    changed: [focal-sd-config]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-keyring -> localhost]
    
    TASK [build-generic-pkg : Fetch back package] **********************************
    changed: [focal-sd-grsec] => (item={'path': '/tmp/securedrop-grsec-4.14.188+focal-amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 0, 'gid': 0, 'size': 3016, 'inode': 639255, 'dev': 111, 'nlink': 1, 'atime': 1611103347.708, 'mtime': 1611103347.708, 'ctime': 1611103347.708, 'gr_name': 'root', 'pw_name': 'root', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    
    TASK [build-generic-pkg : Track down package] **********************************
    ok: [focal-sd-config]
    
    TASK [build-ossec-deb-pkg : Copy OSSEC DEBIAN/control template to build directory.] ***
    changed: [focal-sd-generic-ossec-server]
    
    TASK [build-generic-pkg : Fetch back package] **********************************
    changed: [focal-sd-config] => (item={'path': '/tmp/securedrop-config-0.1.3+1.7.0~rc3-amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 0, 'gid': 0, 'size': 2804, 'inode': 639102, 'dev': 123, 'nlink': 1, 'atime': 1611103353.613, 'mtime': 1611103353.613, 'ctime': 1611103353.613, 'gr_name': 'root', 'pw_name': 'root', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    
    TASK [build-ossec-deb-pkg : Copy OSSEC /usr and /etc directories to build directory.] ***
    changed: [focal-sd-generic-ossec-server] => (item=etc)
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-generic-ossec-agent2 -> localhost]
    
    TASK [build-ossec-deb-pkg : Copy OSSEC /usr and /etc directories to build directory.] ***
    changed: [focal-sd-generic-ossec-server] => (item=usr)
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-grsec -> localhost]
    ok: [focal-sd-generic-ossec-server2 -> localhost]
    
    TASK [build-ossec-deb-pkg : Delete the old service file] ***********************
    changed: [focal-sd-generic-ossec-server]
    
    TASK [build-ossec-deb-pkg : Run OSSEC installer script on extracted source.] ***
    changed: [focal-sd-generic-ossec-agent]
    
    TASK [build-ossec-deb-pkg : Create OSSEC build directory.] *********************
    changed: [focal-sd-generic-ossec-agent] => (item=/tmp/build/ossec-agent-3.6.0-amd64)
    
    TASK [build-ossec-deb-pkg : Create directory for our systemd based service file] ***
    changed: [focal-sd-generic-ossec-server]
    
    TASK [build-ossec-deb-pkg : Create OSSEC build directory.] *********************
    changed: [focal-sd-generic-ossec-agent] => (item=/tmp/build/ossec-agent-3.6.0-amd64/var)
    
    TASK [build-ossec-deb-pkg : Remove client.keys to avoid overwriting existing client.keys] ***
    changed: [focal-sd-generic-ossec-agent]
    
    TASK [build-ossec-deb-pkg : Copy our systemd based service file for ossec-server] ***
    changed: [focal-sd-generic-ossec-server]
    
    TASK [build-ossec-deb-pkg : Copy /var/ossec/ to OSSEC build directory.] ********
    changed: [focal-sd-generic-ossec-agent]
    
    TASK [build-ossec-deb-pkg : Copy OSSEC DEBIAN package scripts to build directory.] ***
    changed: [focal-sd-generic-ossec-agent]
    
    TASK [Update apt-cache for our security checker] *******************************
    changed: [focal-sd-sec-update]
    
    TASK [build-ossec-deb-pkg : Copy OSSEC DEBIAN/control template to build directory.] ***
    changed: [focal-sd-generic-ossec-agent]
    
    TASK [build-ossec-deb-pkg : Copy OSSEC /usr and /etc directories to build directory.] ***
    changed: [focal-sd-generic-ossec-agent] => (item=etc)
    changed: [focal-sd-generic-ossec-agent] => (item=usr)
    
    TASK [build-ossec-deb-pkg : Build SecureDrop OSSEC deb package.] ***************
    changed: [focal-sd-generic-ossec-server]
    
    TASK [build-ossec-deb-pkg : Delete the old service file] ***********************
    changed: [focal-sd-generic-ossec-agent]
    
    TASK [build-ossec-deb-pkg : Delete OSSEC build directories and config files.] ***
    changed: [focal-sd-generic-ossec-server] => (item=/etc/init.d/ossec)
    
    TASK [build-ossec-deb-pkg : Create directory for our systemd based service file] ***
    changed: [focal-sd-generic-ossec-agent]
    
    TASK [build-ossec-deb-pkg : Delete OSSEC build directories and config files.] ***
    changed: [focal-sd-generic-ossec-server] => (item=/etc/ossec-init.conf)
    changed: [focal-sd-generic-ossec-server] => (item=/var/ossec)
    changed: [focal-sd-generic-ossec-server] => (item=/tmp/OSSEC-ARCHIVE-KEY.asc)
    
    TASK [build-ossec-deb-pkg : Fetch newly built Debian packages back to localhost.] ***
    changed: [focal-sd-generic-ossec-server]
    
    TASK [build-ossec-deb-pkg : Copy our systemd based service file for ossec-agent] ***
    changed: [focal-sd-generic-ossec-agent]
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via 
squash_actions is deprecated. Instead of using a loop to supply multiple items 
and specifying `name: "{{ item }}"`, please use `name: '{{ 
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
    
    TASK [build-ossec-deb-pkg : Build SecureDrop OSSEC deb package.] ***************
    changed: [focal-sd-generic-ossec-agent]
    
    TASK [build-ossec-deb-pkg : Delete OSSEC build directories and config files.] ***
    changed: [focal-sd-generic-ossec-agent] => (item=/etc/init.d/ossec)
    changed: [focal-sd-generic-ossec-agent] => (item=/etc/ossec-init.conf)
    changed: [focal-sd-generic-ossec-agent] => (item=/var/ossec)
    changed: [focal-sd-generic-ossec-agent] => (item=/tmp/OSSEC-ARCHIVE-KEY.asc)
    
    TASK [build-ossec-deb-pkg : Fetch newly built Debian packages back to localhost.] ***
    changed: [focal-sd-generic-ossec-agent]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-generic-ossec-agent -> localhost]
    ok: [focal-sd-generic-ossec-server -> localhost]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-generic-ossec-agent -> localhost]
    
    TASK [build-securedrop-app-code-deb-pkg : Install SecureDrop Python requirements in virtualenv for translation work] ***
    changed: [focal-sd-app]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-generic-ossec-server -> localhost]
    
    TASK [build-securedrop-app-code-deb-pkg : Compile PO to MO.] *******************
    changed: [focal-sd-app]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-generic-ossec-agent -> localhost]
    
    TASK [build-securedrop-app-code-deb-pkg : Create apparmor.d directory in prep directory] ***
    changed: [focal-sd-app]
    
    TASK [build-securedrop-app-code-deb-pkg : Copy AppArmor profiles to prep path] ***
    changed: [focal-sd-app] => (item=usr.sbin.tor)
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-generic-ossec-server -> localhost]
    
    TASK [build-securedrop-app-code-deb-pkg : Copy AppArmor profiles to prep path] ***
    changed: [focal-sd-app] => (item=usr.sbin.apache2)
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-generic-ossec-agent -> localhost]
    
    TASK [build-securedrop-app-code-deb-pkg : Replace placeholder changelog to dist-specific changelog] ***
    changed: [focal-sd-app]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-generic-ossec-server -> localhost]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-generic-ossec-agent -> localhost]
    
    TASK [build-securedrop-app-code-deb-pkg : Replace the files required for focal package] ***
    changed: [focal-sd-app] => (item={'src': 'securedrop-app-code.triggers-focal', 'dest': '/tmp/securedrop-app-code_1.7.0~rc3+focal_amd64-prep/debian/securedrop-app-code.triggers'})
    
    TASK [build-securedrop-app-code-deb-pkg : Create the control file based on distribution] ***
    changed: [focal-sd-app]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-generic-ossec-server -> localhost]
    
    TASK [build-securedrop-app-code-deb-pkg : Create lib/systemd/services directory in prep directory] ***
    changed: [focal-sd-app]
    
    TASK [build-securedrop-app-code-deb-pkg : Copy systemd service configurations to prep path] ***
    changed: [focal-sd-app] => (item=securedrop_rqrequeue.service)
    changed: [focal-sd-app] => (item=securedrop_rqworker.service)
    changed: [focal-sd-app] => (item=securedrop_shredder.service)
    changed: [focal-sd-app] => (item=securedrop_source_deleter.service)
    
    TASK [build-securedrop-app-code-deb-pkg : Create sdist in prep dir] ************
    changed: [focal-sd-app]
    
    TASK [build-securedrop-app-code-deb-pkg : Create build dir] ********************
    changed: [focal-sd-app]
    
    TASK [build-securedrop-app-code-deb-pkg : Extract sdist to build dir] **********
    changed: [focal-sd-app]
    
    TASK [build-securedrop-app-code-deb-pkg : Create empty static asset directories in build dir] ***
    changed: [focal-sd-app] => (item=/tmp/securedrop-app-code_1.7.0~rc3+focal_amd64/var/www/securedrop/static/gen)
    changed: [focal-sd-app] => (item=/tmp/securedrop-app-code_1.7.0~rc3+focal_amd64/var/www/securedrop/static/.webassets-cache)
    changed: [focal-sd-app] => (item=/tmp/securedrop-app-code_1.7.0~rc3+focal_amd64/var/www/securedrop/.well-known/pki-validation)
    
    TASK [build-securedrop-app-code-deb-pkg : Build securedrop-app-code Debian package] ***
    changed: [focal-sd-app]
    
    TASK [build-securedrop-app-code-deb-pkg : Find newly built Debian package] *****
    ok: [focal-sd-app]
    
    TASK [build-securedrop-app-code-deb-pkg : Fetch newly built Debian packages back to localhost] ***
    changed: [focal-sd-app] => (item={'path': '/tmp/securedrop-app-code_1.7.0~rc3+focal.tar.gz', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 0, 'gid': 0, 'size': 2105883, 'inode': 630337, 'dev': 51, 'nlink': 1, 'atime': 1611103440.402, 'mtime': 1611103440.394, 'ctime': 1611103440.4, 'gr_name': 'root', 'pw_name': 'root', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    changed: [focal-sd-app] => (item={'path': '/tmp/securedrop-app-code_1.7.0~rc3+focal_amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 0, 'gid': 0, 'size': 10979956, 'inode': 631198, 'dev': 51, 'nlink': 1, 'atime': 1611103570.402, 'mtime': 1611103569.806, 'ctime': 1611103569.806, 'gr_name': 'root', 'pw_name': 'root', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via 
squash_actions is deprecated. Instead of using a loop to supply multiple items 
and specifying `name: "{{ item }}"`, please use `name: '{{ 
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via 
squash_actions is deprecated. Instead of using a loop to supply multiple items 
and specifying `name: "{{ item }}"`, please use `name: '{{ 
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-app -> localhost]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-app -> localhost]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-app -> localhost]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-app -> localhost]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [focal-sd-app -> localhost]
    
    PLAY [Give dpkg verify container access to debs] *******************************
    
    TASK [Discover local debian build files] ***************************************
    ok: [focal-sd-dpkg-verification -> localhost]
    
    TASK [Create build dir] ********************************************************
    ok: [focal-sd-dpkg-verification]
    
    TASK [Drop debian files into container] ****************************************
    changed: [focal-sd-dpkg-verification] => (item={'path': '/home/user/securedrop/build/focal/ossec-agent-3.6.0-amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 289296, 'inode': 32734, 'dev': 51728, 'nlink': 1, 'atime': 1611103400.37, 'mtime': 1611103400.369, 'ctime': 1611103400.369, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    changed: [focal-sd-dpkg-verification] => (item={'path': '/home/user/securedrop/build/focal/securedrop-ossec-agent-3.6.0+1.7.0~rc3-amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 4656, 'inode': 32719, 'dev': 51728, 'nlink': 1, 'atime': 1611103310.316, 'mtime': 1611103310.312, 'ctime': 1611103310.312, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    changed: [focal-sd-dpkg-verification] => (item={'path': '/home/user/securedrop/build/focal/securedrop-keyring-0.1.4+1.7.0~rc3-amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 5920, 'inode': 32726, 'dev': 51728, 'nlink': 1, 'atime': 1611103321.589, 'mtime': 1611103321.589, 'ctime': 1611103321.589, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    changed: [focal-sd-dpkg-verification] => (item={'path': '/home/user/securedrop/build/focal/securedrop-grsec-4.14.188+focal-amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 3016, 'inode': 32733, 'dev': 51728, 'nlink': 1, 'atime': 1611103357.518, 'mtime': 1611103357.518, 'ctime': 1611103357.518, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    changed: [focal-sd-dpkg-verification] => (item={'path': '/home/user/securedrop/build/focal/securedrop-config-0.1.3+1.7.0~rc3-amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 2804, 'inode': 32731, 'dev': 51728, 'nlink': 1, 'atime': 1611103361.983, 'mtime': 1611103361.983, 'ctime': 1611103361.983, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    changed: [focal-sd-dpkg-verification] => (item={'path': '/home/user/securedrop/build/focal/securedrop-app-code_1.7.0~rc3+focal_amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 10979956, 'inode': 32737, 'dev': 51728, 'nlink': 1, 'atime': 1611103573.65, 'mtime': 1611103573.643, 'ctime': 1611103573.643, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    changed: [focal-sd-dpkg-verification] => (item={'path': '/home/user/securedrop/build/focal/securedrop-ossec-server-3.6.0+1.7.0~rc3-amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 7920, 'inode': 32729, 'dev': 51728, 'nlink': 1, 'atime': 1611103292.466, 'mtime': 1611103292.466, 'ctime': 1611103292.466, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    changed: [focal-sd-dpkg-verification] => (item={'path': '/home/user/securedrop/build/focal/ossec-server-3.6.0-amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 731788, 'inode': 32732, 'dev': 51728, 'nlink': 1, 'atime': 1611103391.171, 'mtime': 1611103391.17, 'ctime': 1611103391.17, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    
    PLAY RECAP *********************************************************************
    focal-sd-app               : ok=32   changed=25   unreachable=0    failed=0    skipped=97   rescued=0    ignored=0
    focal-sd-config            : ok=12   changed=3    unreachable=0    failed=0    skipped=117  rescued=0    ignored=0
    focal-sd-dpkg-verification : ok=3    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
    focal-sd-generic-ossec-agent : ok=33   changed=24   unreachable=0    failed=0    skipped=96   rescued=0    ignored=0
    focal-sd-generic-ossec-agent2 : ok=14   changed=4    unreachable=0    failed=0    skipped=115  rescued=0    ignored=0
    focal-sd-generic-ossec-server : ok=33   changed=24   unreachable=0    failed=0    skipped=96   rescued=0    ignored=0
    focal-sd-generic-ossec-server2 : ok=14   changed=4    unreachable=0    failed=0    skipped=115  rescued=0    ignored=0
    focal-sd-grsec             : ok=14   changed=5    unreachable=0    failed=0    skipped=115  rescued=0    ignored=0
    focal-sd-keyring           : ok=12   changed=3    unreachable=0    failed=0    skipped=117  rescued=0    ignored=0
    focal-sd-sec-update        : ok=7    changed=1    unreachable=0    failed=0    skipped=122  rescued=0    ignored=0
    
--> Inventory /home/user/securedrop/molecule/builder-focal/../../install_files/ansible-base/group_vars linked to /home/user/.cache/molecule/securedrop/builder-focal/inventory/group_vars
--> Scenario: 'builder-focal'
--> Action: 'verify'
--> Executing Testinfra tests found in /home/user/securedrop/molecule/builder-focal/../builder-xenial/tests//...
    ============================= test session starts ==============================
    platform linux -- Python 3.7.3, pytest-6.1.1, py-1.10.0, pluggy-0.13.1
    rootdir: /home/user/securedrop/molecule, configfile: pytest.ini
    plugins: xdist-2.1.0, testinfra-5.3.1, forked-1.3.0
gw0 [146] / gw1 [146]
    .........F.X............................................................ [ 49%]
    ........................................................................ [ 98%]
    ..                                                                       [100%]
    =================================== FAILURES ===================================
    __________ test_ensure_no_updates_avail[docker://focal-sd-sec-update] __________
    [gw1] linux -- Python 3.7.3 /home/user/securedrop/.venv/bin/python3
    
    host = <testinfra.host.Host docker://focal-sd-sec-update>
    
        @pytest.mark.skipif(not test_should_run(), reason="Only tested for RCs and builder updates")
        def test_ensure_no_updates_avail(host):
            """
                Test to make sure that there are no security-updates in the
                base builder container.
            """
            # Filter out all the security repos to their own file
            # without this change all the package updates appeared as if they were
            # coming from normal ubuntu update channel (since they get posted to both)
            host.run('egrep "^deb.*security" /etc/apt/sources.list > /tmp/sec.list')
    
            dist_upgrade_simulate = host.run('apt-get -s dist-upgrade '
                                             '-oDir::Etc::Sourcelist=/tmp/sec.list '
                                             '|grep "^Inst" |grep -i security')
    
            # If the grep was successful that means security package updates found
            # otherwise we get a non-zero exit code so no updates needed.
    >       assert dist_upgrade_simulate.rc != 0
    E       assert 0 != 0
    E        +  where 0 = CommandResult(command=b'apt-get -s dist-upgrade -oDir::Etc::Sourcelist=/tmp/sec.list |grep "^Inst" |grep -i security',...curity [amd64])\nInst python3-urllib3 [1.25.8-2] (1.25.8-2ubuntu0.1 Ubuntu:20.04/focal-security [all])\n', stderr=None).rc
    
    ../builder-xenial/tests/test_security_updates.py:43: AssertionError
    =========================== short test summary info ============================
    FAILED ../builder-xenial/tests/test_security_updates.py::test_ensure_no_updates_avail[docker:/focal-sd-sec-update]
    ================== 1 failed, 144 passed, 1 xpassed in 48.11s ===================
An error occurred during the test sequence action: 'verify'. Cleaning up.
--> Inventory /home/user/securedrop/molecule/builder-focal/../../install_files/ansible-base/group_vars linked to /home/user/.cache/molecule/securedrop/builder-focal/inventory/group_vars
--> Scenario: 'builder-focal'
--> Action: 'cleanup'
Skipping, cleanup playbook not configured.
--> Inventory /home/user/securedrop/molecule/builder-focal/../../install_files/ansible-base/group_vars linked to /home/user/.cache/molecule/securedrop/builder-focal/inventory/group_vars
--> Scenario: 'builder-focal'
--> Action: 'destroy'
    
    PLAY [Destroy] *****************************************************************
    
    TASK [Destroy molecule instance(s)] ********************************************
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-app'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-generic-ossec-agent'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-generic-ossec-server'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-generic-ossec-agent2'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-generic-ossec-server2'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-grsec'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-config'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-keyring'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'focal-sd-sec-update'})
    changed: [localhost] => (item={'groups': ['testers'], 'name': 'focal-sd-dpkg-verification'})
    
    PLAY RECAP *********************************************************************
    localhost                  : ok=1    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
    
--> Pruning extra files from scenario ephemeral directory
make: *** [Makefile:332: build-debs-focal] Error 1
(.venv) user@dev-workstation:~/securedrop$ sha256sum build/focal/*1.7.0~rc3*
fce6493fb4aae00ebc2c867c367110652ec806084e4b68bc55e28e0ad5bf88d1  build/focal/securedrop-app-code_1.7.0~rc3+focal_amd64.deb
44a57279deae6570a65d6132a608330d7a1439186816169bf28af7aff5cc2158  build/focal/securedrop-app-code_1.7.0~rc3+focal.tar.gz
4d23ae4861115daf07b9ee2f07301ff601133cc2acc3866ec9320d83263d370b  build/focal/securedrop-config-0.1.3+1.7.0~rc3-amd64.deb
1bd57479ebf2b090033371ad13c6a4f4280c7b67680fd57c4d88cd8a8ad69079  build/focal/securedrop-keyring-0.1.4+1.7.0~rc3-amd64.deb
0573febb837ddbbecb07324df6e12edb70c932d827d851d4cd53d8e047a71e0c  build/focal/securedrop-ossec-agent-3.6.0+1.7.0~rc3-amd64.deb
e8afef8b6636e58aa5145114bcd4be13fc847bf22e4f10b8a875940b8f535118  build/focal/securedrop-ossec-server-3.6.0+1.7.0~rc3-amd64.deb
