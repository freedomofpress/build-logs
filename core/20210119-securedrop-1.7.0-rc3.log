(.venv) user@dev-workstation:~/securedrop$ git tag -v 1.7.0-rc3
object ab4db4196f1e47867a2df8bd2e5463ae70626ba8
type commit
tag 1.7.0-rc3
tagger Allie Crevier <allie@freedom.press> 1611100281 -0800

SecureDrop 1.7.0-rc3
gpg: Signature made Tue 19 Jan 2021 06:51:21 PM EST
gpg:                using RSA key B3BC38A1FEDE0B8728BAB9BF11738E09A8EB8645
gpg: Can't check signature: No public key
(.venv) user@dev-workstation:~/securedrop$ git checkout 1.7.0-rc3
Note: checking out '1.7.0-rc3'.

You are in 'detached HEAD' state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by performing another checkout.

If you want to create a new branch to retain commits you create, you may
do so (now or later) by using -b with the checkout command again. Example:

  git checkout -b <new-branch-name>

HEAD is now at ab4db4196 Merge pull request #5723 from freedomofpress/backports-and-170-rc3
(.venv) user@dev-workstation:~/securedrop$ make build-debs
Building SecureDrop Debian packages for Xenial...
Using active Python 3 virtualenv in /home/user/securedrop/.venv
--> Test matrix
    
└── builder-xenial
    ├── destroy
    ├── create
    ├── converge
    ├── verify
    └── destroy
    
--> Inventory /home/user/securedrop/molecule/builder-xenial/../../install_files/ansible-base/group_vars linked to /home/user/.cache/molecule/securedrop/builder-xenial/inventory/group_vars
--> Scenario: 'builder-xenial'
--> Action: 'destroy'
--> Sanity checks: 'docker'
    
    PLAY [Destroy] *****************************************************************
    
    TASK [Destroy molecule instance(s)] ********************************************
    ok: [localhost] => (item={'groups': ['builders'], 'name': 'xenial-sd-app'})
    ok: [localhost] => (item={'groups': ['builders'], 'name': 'xenial-sd-generic-ossec-agent'})
    ok: [localhost] => (item={'groups': ['builders'], 'name': 'xenial-sd-generic-ossec-server'})
    ok: [localhost] => (item={'groups': ['builders'], 'name': 'xenial-sd-generic-ossec-agent2'})
    ok: [localhost] => (item={'groups': ['builders'], 'name': 'xenial-sd-generic-ossec-server2'})
    ok: [localhost] => (item={'groups': ['builders'], 'name': 'xenial-sd-grsec'})
    ok: [localhost] => (item={'groups': ['builders'], 'name': 'xenial-sd-config'})
    ok: [localhost] => (item={'groups': ['builders'], 'name': 'xenial-sd-keyring'})
    ok: [localhost] => (item={'groups': ['builders'], 'name': 'xenial-sd-sec-update'})
    ok: [localhost] => (item={'groups': ['testers'], 'name': 'xenial-sd-dpkg-verification'})
    
    PLAY RECAP *********************************************************************
    localhost                  : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
    
--> Inventory /home/user/securedrop/molecule/builder-xenial/../../install_files/ansible-base/group_vars linked to /home/user/.cache/molecule/securedrop/builder-xenial/inventory/group_vars
--> Scenario: 'builder-xenial'
--> Action: 'create'
    
    PLAY [Create] ******************************************************************
    
    TASK [debug] *******************************************************************
    ok: [localhost] => {
        "msg": "Building with Docker image quay.io/freedomofpress/sd-docker-builder-xenial@sha256:35b70776cf5139ed2c597063579d74f0458416e4cbbe443bfebef2596ce5a48c"
    }
    
    TASK [Create builders] *********************************************************
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'xenial-sd-app'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'xenial-sd-generic-ossec-agent'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'xenial-sd-generic-ossec-server'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'xenial-sd-generic-ossec-agent2'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'xenial-sd-generic-ossec-server2'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'xenial-sd-grsec'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'xenial-sd-config'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'xenial-sd-keyring'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'xenial-sd-sec-update'})
    changed: [localhost] => (item={'groups': ['testers'], 'name': 'xenial-sd-dpkg-verification'})
    
    PLAY RECAP *********************************************************************
    localhost                  : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
    
--> Inventory /home/user/securedrop/molecule/builder-xenial/../../install_files/ansible-base/group_vars linked to /home/user/.cache/molecule/securedrop/builder-xenial/inventory/group_vars
--> Scenario: 'builder-xenial'
--> Action: 'converge'
    
    PLAY [Build SecureDrop application Debian package from local repository.] ******
    
    TASK [Gathering Facts] *********************************************************
    ok: [xenial-sd-generic-ossec-server2]
    ok: [xenial-sd-config]
    ok: [xenial-sd-generic-ossec-server]
    ok: [xenial-sd-keyring]
    ok: [xenial-sd-sec-update]
    ok: [xenial-sd-app]
    ok: [xenial-sd-generic-ossec-agent2]
    ok: [xenial-sd-grsec]
    ok: [xenial-sd-generic-ossec-agent]
    
    TASK [build-securedrop-app-code-deb-pkg : Copy install_files/securedrop-app-code to prep directory] ***
    changed: [xenial-sd-app]
    
    TASK [build-securedrop-app-code-deb-pkg : Copy app code to prep directory under var/www/securedrop] ***
    changed: [xenial-sd-app]
    
    TASK [build-securedrop-app-code-deb-pkg : Copy setup.py to prep directory] *****
    changed: [xenial-sd-app]
    
    TASK [build-securedrop-app-code-deb-pkg : Copy MANIFEST.in to prep directory] ***
    changed: [xenial-sd-app]
    
    TASK [build-securedrop-app-code-deb-pkg : Copy requirements.txt to prep directory] ***
    changed: [xenial-sd-app]
    
    TASK [build-ossec-deb-pkg : Create src path folder] ****************************
    changed: [xenial-sd-generic-ossec-server] => (item=/tmp/build/ossec-server)
    ok: [xenial-sd-generic-ossec-server] => (item=/tmp/build)
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via 
squash_actions is deprecated. Instead of using a loop to supply multiple items 
and specifying `name: "{{ item }}"`, please use `name: '{{ 
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via 
squash_actions is deprecated. Instead of using a loop to supply multiple items 
and specifying `name: "{{ item }}"`, please use `name: '{{ 
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via 
squash_actions is deprecated. Instead of using a loop to supply multiple items 
and specifying `name: "{{ item }}"`, please use `name: '{{ 
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via 
squash_actions is deprecated. Instead of using a loop to supply multiple items 
and specifying `name: "{{ item }}"`, please use `name: '{{ 
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via 
squash_actions is deprecated. Instead of using a loop to supply multiple items 
and specifying `name: "{{ item }}"`, please use `name: '{{ 
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via 
squash_actions is deprecated. Instead of using a loop to supply multiple items 
and specifying `name: "{{ item }}"`, please use `name: '{{ 
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via 
squash_actions is deprecated. Instead of using a loop to supply multiple items 
and specifying `name: "{{ item }}"`, please use `name: '{{ 
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
    
    TASK [build-ossec-deb-pkg : Install python-requests for URL fetching] **********
    changed: [xenial-sd-generic-ossec-server]
    
    TASK [build-securedrop-app-code-deb-pkg : Control the version of setuptools used in the default construction of virtual environments] ***
    changed: [xenial-sd-app]
    
    TASK [build-ossec-deb-pkg : Copy over current directory for repo build] ********
    changed: [xenial-sd-generic-ossec-server]
    
    TASK [build-securedrop-app-code-deb-pkg : Install sass Ruby gem] ***************
    changed: [xenial-sd-app]
    
    TASK [build-ossec-deb-pkg : Include OSSEC download URLs.] **********************
    ok: [xenial-sd-generic-ossec-server]
    
    TASK [build-securedrop-app-code-deb-pkg : Create static asset directories.] ****
    changed: [xenial-sd-app] => (item=/tmp/securedrop-app-code_1.7.0~rc3+xenial_amd64-prep/var/www/securedrop/static/css)
    changed: [xenial-sd-app] => (item=/tmp/securedrop-app-code_1.7.0~rc3+xenial_amd64-prep/var/www/securedrop/static/gen)
    changed: [xenial-sd-app] => (item=/tmp/securedrop-app-code_1.7.0~rc3+xenial_amd64-prep/var/www/securedrop/static/.webassets-cache)
    
    TASK [build-ossec-deb-pkg : Download OSSEC tarball.] ***************************
[WARNING]: Module remote_tmp /root/.ansible/tmp did not exist and was created
with a mode of 0700, this may cause issues when running as another user. To
avoid this, create the remote_tmp dir with the correct permissions manually
    changed: [xenial-sd-generic-ossec-server]
    
    TASK [build-securedrop-app-code-deb-pkg : Compile SASS to CSS.] ****************
    changed: [xenial-sd-app]
    
    TASK [build-ossec-deb-pkg : Download OSSEC signature.] *************************
    changed: [xenial-sd-generic-ossec-server]
    
    TASK [build-securedrop-app-code-deb-pkg : Remove temporary SASS directory from package build directory.] ***
    changed: [xenial-sd-app] => (item=sass)
    changed: [xenial-sd-app] => (item=.sass-cache)
    
    TASK [build-ossec-deb-pkg : Create src path folder] ****************************
    changed: [xenial-sd-generic-ossec-agent] => (item=/tmp/build/ossec-agent)
    ok: [xenial-sd-generic-ossec-agent] => (item=/tmp/build)
    
    TASK [build-ossec-deb-pkg : Copy OSSEC archive GPG key.] ***********************
    changed: [xenial-sd-generic-ossec-server]
    
    TASK [build-ossec-deb-pkg : Import OSSEC archive GPG key.] *********************
    changed: [xenial-sd-generic-ossec-server]
    
    TASK [build-ossec-deb-pkg : Verify signature of OSSEC tarball.] ****************
    changed: [xenial-sd-generic-ossec-server]
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via 
squash_actions is deprecated. Instead of using a loop to supply multiple items 
and specifying `name: "{{ item }}"`, please use `name: '{{ 
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via 
squash_actions is deprecated. Instead of using a loop to supply multiple items 
and specifying `name: "{{ item }}"`, please use `name: '{{ 
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via 
squash_actions is deprecated. Instead of using a loop to supply multiple items 
and specifying `name: "{{ item }}"`, please use `name: '{{ 
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via 
squash_actions is deprecated. Instead of using a loop to supply multiple items 
and specifying `name: "{{ item }}"`, please use `name: '{{ 
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via 
squash_actions is deprecated. Instead of using a loop to supply multiple items 
and specifying `name: "{{ item }}"`, please use `name: '{{ 
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via 
squash_actions is deprecated. Instead of using a loop to supply multiple items 
and specifying `name: "{{ item }}"`, please use `name: '{{ 
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via 
squash_actions is deprecated. Instead of using a loop to supply multiple items 
and specifying `name: "{{ item }}"`, please use `name: '{{ 
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
    
    TASK [build-ossec-deb-pkg : Install python-requests for URL fetching] **********
    changed: [xenial-sd-generic-ossec-agent]
    
    TASK [build-ossec-deb-pkg : Copy over current directory for repo build] ********
    changed: [xenial-sd-generic-ossec-agent]
    
    TASK [build-ossec-deb-pkg : Install apt dependencies for building OSSEC packages.] ***
    changed: [xenial-sd-generic-ossec-server] => (item=libpcre2-dev)
    
    TASK [build-ossec-deb-pkg : Include OSSEC download URLs.] **********************
    ok: [xenial-sd-generic-ossec-agent]
    
    TASK [build-ossec-deb-pkg : Download OSSEC tarball.] ***************************
    changed: [xenial-sd-generic-ossec-agent]
    
    TASK [build-ossec-deb-pkg : Download OSSEC signature.] *************************
    changed: [xenial-sd-generic-ossec-agent]
    
    TASK [build-ossec-deb-pkg : Install apt dependencies for building OSSEC packages.] ***
    changed: [xenial-sd-generic-ossec-server] => (item=libevent1-dev)
    
    TASK [build-ossec-deb-pkg : Copy OSSEC archive GPG key.] ***********************
    changed: [xenial-sd-generic-ossec-agent]
    
    TASK [build-generic-pkg : Ensure package name is set] **************************
    ok: [xenial-sd-generic-ossec-server2] => {
        "changed": false,
        "msg": "All assertions passed"
    }
    
    TASK [build-ossec-deb-pkg : Import OSSEC archive GPG key.] *********************
    changed: [xenial-sd-generic-ossec-agent]
    
    TASK [build-generic-pkg : Ensure build directory in-place] *********************
    ok: [xenial-sd-generic-ossec-server2]
    
    TASK [build-ossec-deb-pkg : Extract OSSEC source tarball.] *********************
    changed: [xenial-sd-generic-ossec-server]
    
    TASK [build-ossec-deb-pkg : Verify signature of OSSEC tarball.] ****************
    changed: [xenial-sd-generic-ossec-agent]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-config -> localhost]
    ok: [xenial-sd-keyring -> localhost]
    
    TASK [build-ossec-deb-pkg : Create /etc directory within source directory.] ****
    ok: [xenial-sd-generic-ossec-server]
    
    TASK [build-generic-pkg : Copy app code to build directory.] *******************
    changed: [xenial-sd-generic-ossec-server2]
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via 
squash_actions is deprecated. Instead of using a loop to supply multiple items 
and specifying `name: "{{ item }}"`, please use `name: '{{ 
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-grsec -> localhost]
    ok: [xenial-sd-sec-update -> localhost]
    ok: [xenial-sd-generic-ossec-agent2 -> localhost]
    ok: [xenial-sd-generic-ossec-server2 -> localhost]
    
    TASK [build-ossec-deb-pkg : Copy OSSEC preloaded vars template.] ***************
    changed: [xenial-sd-generic-ossec-server]
    
    TASK [build-generic-pkg : Create any necessary parent directories for jinja files] ***
    ok: [xenial-sd-generic-ossec-server2] => (item={'path': '/home/user/securedrop/install_files/securedrop-ossec-server/DEBIAN/control.j2', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 848, 'inode': 5648, 'dev': 51728, 'nlink': 1, 'atime': 1611101277.126, 'mtime': 1611101277.126, 'ctime': 1611101277.126, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    
    TASK [build-ossec-deb-pkg : Disable JIT in OSSEC Makefile] *********************
    changed: [xenial-sd-generic-ossec-server]
    
    TASK [build-generic-pkg : Template out any jinja files found and copy over] ****
    changed: [xenial-sd-generic-ossec-server2] => (item={'path': '/home/user/securedrop/install_files/securedrop-ossec-server/DEBIAN/control.j2', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 848, 'inode': 5648, 'dev': 51728, 'nlink': 1, 'atime': 1611101277.126, 'mtime': 1611101277.126, 'ctime': 1611101277.126, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    
    TASK [build-generic-pkg : Ensure package name is set] **************************
    ok: [xenial-sd-generic-ossec-agent2] => {
        "changed": false,
        "msg": "All assertions passed"
    }
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-config -> localhost]
    ok: [xenial-sd-keyring -> localhost]
    
    TASK [build-generic-pkg : Ensure build directory in-place] *********************
    ok: [xenial-sd-generic-ossec-agent2]
    
    TASK [build-generic-pkg : run bash script to build generic packages] ***********
    changed: [xenial-sd-generic-ossec-server2]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-sec-update -> localhost]
    ok: [xenial-sd-grsec -> localhost]
    
    TASK [build-generic-pkg : Track down package] **********************************
    ok: [xenial-sd-generic-ossec-server2]
    
    TASK [build-generic-pkg : Copy app code to build directory.] *******************
    changed: [xenial-sd-generic-ossec-agent2]
    
    TASK [build-ossec-deb-pkg : Install apt dependencies for building OSSEC packages.] ***
    changed: [xenial-sd-generic-ossec-agent] => (item=libpcre2-dev)
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-generic-ossec-agent2 -> localhost]
    
    TASK [build-generic-pkg : Fetch back package] **********************************
    changed: [xenial-sd-generic-ossec-server2] => (item={'dev': 99, 'isfifo': False, 'islnk': False, 'path': '/tmp/securedrop-ossec-server-3.6.0+1.7.0~rc3-amd64.deb', 'uid': 0, 'mode': '0644', 'rgrp': True, 'roth': True, 'mtime': 1611101558.067, 'xusr': False, 'isblk': False, 'gr_name': 'root', 'ischr': False, 'isuid': False, 'woth': False, 'gid': 0, 'issock': False, 'nlink': 1, 'xgrp': False, 'ctime': 1611101558.067, 'isgid': False, 'atime': 1611101558.067, 'wgrp': False, 'rusr': True, 'size': 7862, 'pw_name': 'root', 'wusr': True, 'xoth': False, 'isreg': True, 'isdir': False, 'inode': 602530})
    
    TASK [build-generic-pkg : Ensure package name is set] **************************
    ok: [xenial-sd-keyring] => {
        "changed": false,
        "msg": "All assertions passed"
    }
    
    TASK [build-generic-pkg : Create any necessary parent directories for jinja files] ***
    ok: [xenial-sd-generic-ossec-agent2] => (item={'path': '/home/user/securedrop/install_files/securedrop-ossec-agent/DEBIAN/control.j2', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 658, 'inode': 5579, 'dev': 51728, 'nlink': 1, 'atime': 1611101277.126, 'mtime': 1611101277.126, 'ctime': 1611101277.126, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    
    TASK [build-generic-pkg : Ensure build directory in-place] *********************
    ok: [xenial-sd-keyring]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-config -> localhost]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-generic-ossec-server2 -> localhost]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-sec-update -> localhost]
    ok: [xenial-sd-grsec -> localhost]
    
    TASK [build-generic-pkg : Template out any jinja files found and copy over] ****
    changed: [xenial-sd-generic-ossec-agent2] => (item={'path': '/home/user/securedrop/install_files/securedrop-ossec-agent/DEBIAN/control.j2', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 658, 'inode': 5579, 'dev': 51728, 'nlink': 1, 'atime': 1611101277.126, 'mtime': 1611101277.126, 'ctime': 1611101277.126, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    
    TASK [build-generic-pkg : Copy app code to build directory.] *******************
    changed: [xenial-sd-keyring]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-keyring -> localhost]
    
    TASK [build-generic-pkg : run bash script to build generic packages] ***********
    changed: [xenial-sd-generic-ossec-agent2]
    
    TASK [build-generic-pkg : Track down package] **********************************
    ok: [xenial-sd-generic-ossec-agent2]
    
    TASK [build-ossec-deb-pkg : Install apt dependencies for building OSSEC packages.] ***
    changed: [xenial-sd-generic-ossec-agent] => (item=libevent1-dev)
    
    TASK [build-generic-pkg : Ensure package name is set] **************************
    ok: [xenial-sd-grsec] => {
        "changed": false,
        "msg": "All assertions passed"
    }
    
    TASK [build-generic-pkg : run bash script to build generic packages] ***********
    changed: [xenial-sd-keyring]
    
    TASK [build-generic-pkg : Fetch back package] **********************************
    changed: [xenial-sd-generic-ossec-agent2] => (item={'mode': '0644', 'rgrp': True, 'pw_name': 'root', 'xgrp': False, 'gr_name': 'root', 'uid': 0, 'path': '/tmp/securedrop-ossec-agent-3.6.0+1.7.0~rc3-amd64.deb', 'inode': 604492, 'ctime': 1611101582.742, 'dev': 87, 'xusr': False, 'issock': False, 'isuid': False, 'xoth': False, 'islnk': False, 'isdir': False, 'size': 4586, 'mtime': 1611101582.742, 'isreg': True, 'atime': 1611101582.742, 'isgid': False, 'ischr': False, 'nlink': 1, 'woth': False, 'rusr': True, 'wgrp': False, 'gid': 0, 'roth': True, 'isblk': False, 'isfifo': False, 'wusr': True})
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-config -> localhost]
    
    TASK [build-generic-pkg : Ensure build directory in-place] *********************
    ok: [xenial-sd-grsec]
    
    TASK [build-generic-pkg : Track down package] **********************************
    ok: [xenial-sd-keyring]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-generic-ossec-server2 -> localhost]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-sec-update -> localhost]
    
    TASK [build-generic-pkg : Fetch back package] **********************************
    changed: [xenial-sd-keyring] => (item={'islnk': False, 'mtime': 1611101589.95, 'path': '/tmp/securedrop-keyring-0.1.4+1.7.0~rc3-amd64.deb', 'nlink': 1, 'xoth': False, 'pw_name': 'root', 'dev': 135, 'isdir': False, 'mode': '0644', 'size': 5836, 'rusr': True, 'xusr': False, 'atime': 1611101589.95, 'gid': 0, 'issock': False, 'ctime': 1611101589.95, 'wusr': True, 'ischr': False, 'isgid': False, 'inode': 602538, 'woth': False, 'rgrp': True, 'wgrp': False, 'gr_name': 'root', 'isblk': False, 'isreg': True, 'isuid': False, 'xgrp': False, 'isfifo': False, 'roth': True, 'uid': 0})
    
    TASK [build-generic-pkg : Copy app code to build directory.] *******************
    changed: [xenial-sd-grsec]
    
    TASK [build-ossec-deb-pkg : Extract OSSEC source tarball.] *********************
    changed: [xenial-sd-generic-ossec-agent]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-generic-ossec-agent2 -> localhost]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-grsec -> localhost]
    
    TASK [build-ossec-deb-pkg : Create /etc directory within source directory.] ****
    ok: [xenial-sd-generic-ossec-agent]
    
    TASK [build-generic-pkg : Create any necessary parent directories for jinja files] ***
    ok: [xenial-sd-grsec] => (item={'path': '/home/user/securedrop/install_files/securedrop-grsec/DEBIAN/control.j2', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 501, 'inode': 5556, 'dev': 51728, 'nlink': 1, 'atime': 1610485790.689, 'mtime': 1610485775.394, 'ctime': 1610485775.394, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    
    TASK [build-generic-pkg : Ensure package name is set] **************************
    ok: [xenial-sd-config] => {
        "changed": false,
        "msg": "All assertions passed"
    }
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-keyring -> localhost]
    
    TASK [build-ossec-deb-pkg : Run OSSEC installer script on extracted source.] ***
    changed: [xenial-sd-generic-ossec-server]
    
    TASK [build-ossec-deb-pkg : Copy OSSEC preloaded vars template.] ***************
    changed: [xenial-sd-generic-ossec-agent]
    
    TASK [build-generic-pkg : Ensure build directory in-place] *********************
    ok: [xenial-sd-config]
    
    TASK [build-ossec-deb-pkg : Create OSSEC build directory.] *********************
    changed: [xenial-sd-generic-ossec-server] => (item=/tmp/build/ossec-server-3.6.0-amd64)
    changed: [xenial-sd-generic-ossec-server] => (item=/tmp/build/ossec-server-3.6.0-amd64/var)
    
    TASK [build-generic-pkg : Template out any jinja files found and copy over] ****
    changed: [xenial-sd-grsec] => (item={'path': '/home/user/securedrop/install_files/securedrop-grsec/DEBIAN/control.j2', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 501, 'inode': 5556, 'dev': 51728, 'nlink': 1, 'atime': 1610485790.689, 'mtime': 1610485775.394, 'ctime': 1610485775.394, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    
    TASK [build-ossec-deb-pkg : Disable JIT in OSSEC Makefile] *********************
    changed: [xenial-sd-generic-ossec-agent]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-generic-ossec-server2 -> localhost]
    
    TASK [build-generic-pkg : Copy app code to build directory.] *******************
    changed: [xenial-sd-config]
    
    TASK [build-ossec-deb-pkg : Remove client.keys to avoid overwriting existing client.keys] ***
    changed: [xenial-sd-generic-ossec-server]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-sec-update -> localhost]
    ok: [xenial-sd-config -> localhost]
    
    TASK [build-generic-pkg : run bash script to build generic packages] ***********
    changed: [xenial-sd-grsec]
    
    TASK [build-ossec-deb-pkg : Copy /var/ossec/ to OSSEC build directory.] ********
    changed: [xenial-sd-generic-ossec-server]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-generic-ossec-agent2 -> localhost]
    
    TASK [build-generic-pkg : Track down package] **********************************
    ok: [xenial-sd-grsec]
    
    TASK [build-ossec-deb-pkg : Copy OSSEC DEBIAN package scripts to build directory.] ***
    changed: [xenial-sd-generic-ossec-server]
    
    TASK [build-generic-pkg : Fetch back package] **********************************
    changed: [xenial-sd-grsec] => (item={'isgid': False, 'gid': 0, 'wgrp': False, 'nlink': 1, 'isblk': False, 'rusr': True, 'rgrp': True, 'atime': 1611101621.88, 'ischr': False, 'ctime': 1611101621.88, 'path': '/tmp/securedrop-grsec-4.14.188-amd64.deb', 'inode': 606243, 'isdir': False, 'xgrp': False, 'issock': False, 'isfifo': False, 'roth': True, 'xoth': False, 'gr_name': 'root', 'islnk': False, 'mode': '0644', 'xusr': False, 'isreg': True, 'mtime': 1611101621.88, 'uid': 0, 'size': 2292, 'dev': 111, 'pw_name': 'root', 'isuid': False, 'wusr': True, 'woth': False})
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-keyring -> localhost]
    
    TASK [build-generic-pkg : run bash script to build generic packages] ***********
    changed: [xenial-sd-config]
    
    TASK [build-ossec-deb-pkg : Copy OSSEC DEBIAN/control template to build directory.] ***
    changed: [xenial-sd-generic-ossec-server]
    
    TASK [build-generic-pkg : Track down package] **********************************
    ok: [xenial-sd-config]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-generic-ossec-server2 -> localhost]
    ok: [xenial-sd-grsec -> localhost]
    
    TASK [build-ossec-deb-pkg : Copy OSSEC /usr and /etc directories to build directory.] ***
    changed: [xenial-sd-generic-ossec-server] => (item=etc)
    changed: [xenial-sd-generic-ossec-server] => (item=usr)
    
    TASK [build-generic-pkg : Fetch back package] **********************************
    changed: [xenial-sd-config] => (item={'size': 2742, 'isreg': True, 'path': '/tmp/securedrop-config-0.1.3+1.7.0~rc3-amd64.deb', 'ctime': 1611101631.974, 'mtime': 1611101631.974, 'rgrp': True, 'isblk': False, 'uid': 0, 'xusr': False, 'wgrp': False, 'islnk': False, 'gr_name': 'root', 'roth': True, 'isfifo': False, 'inode': 606578, 'isdir': False, 'woth': False, 'mode': '0644', 'ischr': False, 'wusr': True, 'isgid': False, 'xoth': False, 'rusr': True, 'gid': 0, 'dev': 123, 'nlink': 1, 'atime': 1611101631.973, 'isuid': False, 'issock': False, 'pw_name': 'root', 'xgrp': False})
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-generic-ossec-agent2 -> localhost]
    
    TASK [Update apt-cache for our security checker] *******************************
    changed: [xenial-sd-sec-update]
    
    TASK [build-ossec-deb-pkg : Run OSSEC installer script on extracted source.] ***
    changed: [xenial-sd-generic-ossec-agent]
    
    TASK [build-ossec-deb-pkg : Create OSSEC build directory.] *********************
    changed: [xenial-sd-generic-ossec-agent] => (item=/tmp/build/ossec-agent-3.6.0-amd64)
    changed: [xenial-sd-generic-ossec-agent] => (item=/tmp/build/ossec-agent-3.6.0-amd64/var)
    
    TASK [build-ossec-deb-pkg : Remove client.keys to avoid overwriting existing client.keys] ***
    changed: [xenial-sd-generic-ossec-agent]
    
    TASK [build-ossec-deb-pkg : Copy /var/ossec/ to OSSEC build directory.] ********
    changed: [xenial-sd-generic-ossec-agent]
    
    TASK [build-ossec-deb-pkg : Copy OSSEC DEBIAN package scripts to build directory.] ***
    changed: [xenial-sd-generic-ossec-agent]
    
    TASK [build-ossec-deb-pkg : Build SecureDrop OSSEC deb package.] ***************
    changed: [xenial-sd-generic-ossec-server]
    
    TASK [build-ossec-deb-pkg : Delete OSSEC build directories and config files.] ***
    changed: [xenial-sd-generic-ossec-server] => (item=/etc/init.d/ossec)
    changed: [xenial-sd-generic-ossec-server] => (item=/etc/ossec-init.conf)
    changed: [xenial-sd-generic-ossec-server] => (item=/var/ossec)
    
    TASK [build-ossec-deb-pkg : Copy OSSEC DEBIAN/control template to build directory.] ***
    changed: [xenial-sd-generic-ossec-agent]
    
    TASK [build-ossec-deb-pkg : Delete OSSEC build directories and config files.] ***
    changed: [xenial-sd-generic-ossec-server] => (item=/tmp/OSSEC-ARCHIVE-KEY.asc)
    
    TASK [build-ossec-deb-pkg : Copy OSSEC /usr and /etc directories to build directory.] ***
    changed: [xenial-sd-generic-ossec-agent] => (item=etc)
    changed: [xenial-sd-generic-ossec-agent] => (item=usr)
    
    TASK [build-ossec-deb-pkg : Fetch newly built Debian packages back to localhost.] ***
    changed: [xenial-sd-generic-ossec-server]
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via 
squash_actions is deprecated. Instead of using a loop to supply multiple items 
and specifying `name: "{{ item }}"`, please use `name: '{{ 
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
    
    TASK [build-securedrop-app-code-deb-pkg : Install SecureDrop Python requirements in virtualenv for translation work] ***
    changed: [xenial-sd-app]
    
    TASK [build-ossec-deb-pkg : Build SecureDrop OSSEC deb package.] ***************
    changed: [xenial-sd-generic-ossec-agent]
    
    TASK [build-ossec-deb-pkg : Delete OSSEC build directories and config files.] ***
    changed: [xenial-sd-generic-ossec-agent] => (item=/etc/init.d/ossec)
    changed: [xenial-sd-generic-ossec-agent] => (item=/etc/ossec-init.conf)
    changed: [xenial-sd-generic-ossec-agent] => (item=/var/ossec)
    
    TASK [build-securedrop-app-code-deb-pkg : Compile PO to MO.] *******************
    changed: [xenial-sd-app]
    
    TASK [build-ossec-deb-pkg : Delete OSSEC build directories and config files.] ***
    changed: [xenial-sd-generic-ossec-agent] => (item=/tmp/OSSEC-ARCHIVE-KEY.asc)
    
    TASK [build-securedrop-app-code-deb-pkg : Create apparmor.d directory in prep directory] ***
    changed: [xenial-sd-app]
    
    TASK [build-ossec-deb-pkg : Fetch newly built Debian packages back to localhost.] ***
    changed: [xenial-sd-generic-ossec-agent]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-generic-ossec-agent -> localhost]
    
    TASK [build-securedrop-app-code-deb-pkg : Copy AppArmor profiles to prep path] ***
    changed: [xenial-sd-app] => (item=usr.sbin.tor)
    changed: [xenial-sd-app] => (item=usr.sbin.apache2)
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-generic-ossec-server -> localhost]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-generic-ossec-agent -> localhost]
    
    TASK [build-securedrop-app-code-deb-pkg : Replace placeholder changelog to dist-specific changelog] ***
    changed: [xenial-sd-app]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-generic-ossec-server -> localhost]
    
    TASK [build-securedrop-app-code-deb-pkg : Create the control file based on distribution] ***
    changed: [xenial-sd-app]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-generic-ossec-agent -> localhost]
    
    TASK [build-securedrop-app-code-deb-pkg : Create lib/systemd/services directory in prep directory] ***
    changed: [xenial-sd-app]
    
    TASK [build-securedrop-app-code-deb-pkg : Copy systemd service configurations to prep path] ***
    changed: [xenial-sd-app] => (item=securedrop_rqrequeue.service)
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-generic-ossec-server -> localhost]
    
    TASK [build-securedrop-app-code-deb-pkg : Copy systemd service configurations to prep path] ***
    changed: [xenial-sd-app] => (item=securedrop_rqworker.service)
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-generic-ossec-agent -> localhost]
    
    TASK [build-securedrop-app-code-deb-pkg : Copy systemd service configurations to prep path] ***
    changed: [xenial-sd-app] => (item=securedrop_shredder.service)
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-generic-ossec-server -> localhost]
    
    TASK [build-securedrop-app-code-deb-pkg : Copy systemd service configurations to prep path] ***
    changed: [xenial-sd-app] => (item=securedrop_source_deleter.service)
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-generic-ossec-agent -> localhost]
    
    TASK [build-securedrop-app-code-deb-pkg : Create sdist in prep dir] ************
    changed: [xenial-sd-app]
    
    TASK [build-securedrop-app-code-deb-pkg : Create build dir] ********************
    changed: [xenial-sd-app]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-generic-ossec-server -> localhost]
    
    TASK [build-securedrop-app-code-deb-pkg : Extract sdist to build dir] **********
    changed: [xenial-sd-app]
    
    TASK [build-securedrop-app-code-deb-pkg : Create empty static asset directories in build dir] ***
    changed: [xenial-sd-app] => (item=/tmp/securedrop-app-code_1.7.0~rc3+xenial_amd64/var/www/securedrop/static/gen)
    changed: [xenial-sd-app] => (item=/tmp/securedrop-app-code_1.7.0~rc3+xenial_amd64/var/www/securedrop/static/.webassets-cache)
    changed: [xenial-sd-app] => (item=/tmp/securedrop-app-code_1.7.0~rc3+xenial_amd64/var/www/securedrop/.well-known/pki-validation)
    
    TASK [build-securedrop-app-code-deb-pkg : Build securedrop-app-code Debian package] ***
    changed: [xenial-sd-app]
    
    TASK [build-securedrop-app-code-deb-pkg : Find newly built Debian package] *****
    ok: [xenial-sd-app]
    
    TASK [build-securedrop-app-code-deb-pkg : Fetch newly built Debian packages back to localhost] ***
    changed: [xenial-sd-app] => (item={'path': '/tmp/securedrop-app-code_1.7.0~rc3+xenial.tar.gz', 'rgrp': True, 'nlink': 1, 'xgrp': False, 'inode': 609885, 'issock': False, 'pw_name': 'root', 'isgid': False, 'dev': 51, 'isdir': False, 'isuid': False, 'gid': 0, 'isreg': True, 'xusr': False, 'isfifo': False, 'isblk': False, 'atime': 1611101700.903, 'wusr': True, 'gr_name': 'root', 'wgrp': False, 'uid': 0, 'rusr': True, 'xoth': False, 'mtime': 1611101700.894, 'ischr': False, 'mode': '0644', 'size': 2115050, 'islnk': False, 'woth': False, 'ctime': 1611101700.9, 'roth': True})
    changed: [xenial-sd-app] => (item={'path': '/tmp/securedrop-app-code_1.7.0~rc3+xenial_amd64.deb', 'rgrp': True, 'nlink': 1, 'xgrp': False, 'inode': 612017, 'issock': False, 'pw_name': 'root', 'isgid': False, 'dev': 51, 'isdir': False, 'isuid': False, 'gid': 0, 'isreg': True, 'xusr': False, 'isfifo': False, 'isblk': False, 'atime': 1611101813.841, 'wusr': True, 'gr_name': 'root', 'wgrp': False, 'uid': 0, 'rusr': True, 'xoth': False, 'mtime': 1611101813.586, 'ischr': False, 'mode': '0644', 'size': 10520104, 'islnk': False, 'woth': False, 'ctime': 1611101813.586, 'roth': True})
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via 
squash_actions is deprecated. Instead of using a loop to supply multiple items 
and specifying `name: "{{ item }}"`, please use `name: '{{ 
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via 
squash_actions is deprecated. Instead of using a loop to supply multiple items 
and specifying `name: "{{ item }}"`, please use `name: '{{ 
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-app -> localhost]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-app -> localhost]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-app -> localhost]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-app -> localhost]
    
    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-app -> localhost]
    
    PLAY [Give dpkg verify container access to debs] *******************************
    
    TASK [Discover local debian build files] ***************************************
    ok: [xenial-sd-dpkg-verification -> localhost]
    
    TASK [Create build dir] ********************************************************
    ok: [xenial-sd-dpkg-verification]
    
    TASK [Drop debian files into container] ****************************************
    changed: [xenial-sd-dpkg-verification] => (item={'path': '/home/user/securedrop/build/xenial/securedrop-keyring-0.1.4+1.7.0~rc1-amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 5840, 'inode': 32540, 'dev': 51728, 'nlink': 1, 'atime': 1610487558.247, 'mtime': 1610487331.84, 'ctime': 1610487331.84, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    changed: [xenial-sd-dpkg-verification] => (item={'path': '/home/user/securedrop/build/xenial/ossec-agent-3.6.0-amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 283810, 'inode': 32545, 'dev': 51728, 'nlink': 1, 'atime': 1611101671.742, 'mtime': 1611101671.741, 'ctime': 1611101671.741, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    changed: [xenial-sd-dpkg-verification] => (item={'path': '/home/user/securedrop/build/xenial/securedrop-app-code_1.7.0~rc3+xenial_amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 10520104, 'inode': 32703, 'dev': 51728, 'nlink': 1, 'atime': 1611101816.987, 'mtime': 1611101816.979, 'ctime': 1611101816.979, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    changed: [xenial-sd-dpkg-verification] => (item={'path': '/home/user/securedrop/build/xenial/securedrop-ossec-agent-3.6.0+1.7.0~rc3-amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 4586, 'inode': 32699, 'dev': 51728, 'nlink': 1, 'atime': 1611101591.31, 'mtime': 1611101591.31, 'ctime': 1611101591.31, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    changed: [xenial-sd-dpkg-verification] => (item={'path': '/home/user/securedrop/build/xenial/securedrop-keyring-0.1.4+1.7.0~rc3-amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 5836, 'inode': 32700, 'dev': 51728, 'nlink': 1, 'atime': 1611101598.935, 'mtime': 1611101598.935, 'ctime': 1611101598.935, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    changed: [xenial-sd-dpkg-verification] => (item={'path': '/home/user/securedrop/build/xenial/securedrop-ossec-server-3.6.0+1.7.0~rc1-amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 7854, 'inode': 32543, 'dev': 51728, 'nlink': 1, 'atime': 1610487560.398, 'mtime': 1610487303.512, 'ctime': 1610487303.512, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    changed: [xenial-sd-dpkg-verification] => (item={'path': '/home/user/securedrop/build/xenial/securedrop-ossec-agent-3.6.0+1.7.0~rc1-amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 4586, 'inode': 32539, 'dev': 51728, 'nlink': 1, 'atime': 1610487561.488, 'mtime': 1610487322.144, 'ctime': 1610487322.144, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    changed: [xenial-sd-dpkg-verification] => (item={'path': '/home/user/securedrop/build/xenial/securedrop-app-code_1.7.0~rc1+xenial_amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 10521368, 'inode': 32547, 'dev': 51728, 'nlink': 1, 'atime': 1610487530.384, 'mtime': 1610487530.377, 'ctime': 1610487530.377, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    changed: [xenial-sd-dpkg-verification] => (item={'path': '/home/user/securedrop/build/xenial/securedrop-config-0.1.3+1.7.0~rc3-amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 2742, 'inode': 32701, 'dev': 51728, 'nlink': 1, 'atime': 1611101641.244, 'mtime': 1611101641.244, 'ctime': 1611101641.244, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    changed: [xenial-sd-dpkg-verification] => (item={'path': '/home/user/securedrop/build/xenial/securedrop-config-0.1.3+1.7.0~rc1-amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 2742, 'inode': 32548, 'dev': 51728, 'nlink': 1, 'atime': 1610487563.724, 'mtime': 1610487378.841, 'ctime': 1610487378.841, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    changed: [xenial-sd-dpkg-verification] => (item={'path': '/home/user/securedrop/build/xenial/securedrop-grsec-4.14.188-amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 2292, 'inode': 32546, 'dev': 51728, 'nlink': 1, 'atime': 1611101629.149, 'mtime': 1611101629.149, 'ctime': 1611101629.149, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    changed: [xenial-sd-dpkg-verification] => (item={'path': '/home/user/securedrop/build/xenial/securedrop-ossec-server-3.6.0+1.7.0~rc3-amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 7862, 'inode': 32698, 'dev': 51728, 'nlink': 1, 'atime': 1611101567.039, 'mtime': 1611101567.038, 'ctime': 1611101567.038, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    changed: [xenial-sd-dpkg-verification] => (item={'path': '/home/user/securedrop/build/xenial/ossec-server-3.6.0-amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 710290, 'inode': 32544, 'dev': 51728, 'nlink': 1, 'atime': 1611101660.622, 'mtime': 1611101660.619, 'ctime': 1611101660.619, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    
    PLAY RECAP *********************************************************************
    xenial-sd-app              : ok=31   changed=24   unreachable=0    failed=0    skipped=98   rescued=0    ignored=0
    xenial-sd-config           : ok=12   changed=3    unreachable=0    failed=0    skipped=117  rescued=0    ignored=0
    xenial-sd-dpkg-verification : ok=3    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
    xenial-sd-generic-ossec-agent : ok=30   changed=22   unreachable=0    failed=0    skipped=99   rescued=0    ignored=0
    xenial-sd-generic-ossec-agent2 : ok=14   changed=4    unreachable=0    failed=0    skipped=115  rescued=0    ignored=0
    xenial-sd-generic-ossec-server : ok=30   changed=22   unreachable=0    failed=0    skipped=99   rescued=0    ignored=0
    xenial-sd-generic-ossec-server2 : ok=14   changed=4    unreachable=0    failed=0    skipped=115  rescued=0    ignored=0
    xenial-sd-grsec            : ok=14   changed=4    unreachable=0    failed=0    skipped=115  rescued=0    ignored=0
    xenial-sd-keyring          : ok=12   changed=3    unreachable=0    failed=0    skipped=117  rescued=0    ignored=0
    xenial-sd-sec-update       : ok=7    changed=1    unreachable=0    failed=0    skipped=122  rescued=0    ignored=0
    
--> Inventory /home/user/securedrop/molecule/builder-xenial/../../install_files/ansible-base/group_vars linked to /home/user/.cache/molecule/securedrop/builder-xenial/inventory/group_vars
--> Scenario: 'builder-xenial'
--> Action: 'verify'
--> Executing Testinfra tests found in /home/user/securedrop/molecule/builder-xenial/tests//...
    ============================= test session starts ==============================
    platform linux -- Python 3.7.3, pytest-6.1.1, py-1.10.0, pluggy-0.13.1
    rootdir: /home/user/securedrop/molecule, configfile: pytest.ini
    plugins: xdist-2.1.0, testinfra-5.3.1, forked-1.3.0
gw0 [146] / gw1 [146]
    ...FX................................................................... [ 49%]
    ........................................................................ [ 98%]
    ..                                                                       [100%]
    =================================== FAILURES ===================================
    _________ test_ensure_no_updates_avail[docker://xenial-sd-sec-update] __________
    [gw0] linux -- Python 3.7.3 /home/user/securedrop/.venv/bin/python3
    
    host = <testinfra.host.Host docker://xenial-sd-sec-update>
    
        @pytest.mark.skipif(not test_should_run(), reason="Only tested for RCs and builder updates")
        def test_ensure_no_updates_avail(host):
            """
                Test to make sure that there are no security-updates in the
                base builder container.
            """
            # Filter out all the security repos to their own file
            # without this change all the package updates appeared as if they were
            # coming from normal ubuntu update channel (since they get posted to both)
            host.run('egrep "^deb.*security" /etc/apt/sources.list > /tmp/sec.list')
    
            dist_upgrade_simulate = host.run('apt-get -s dist-upgrade '
                                             '-oDir::Etc::Sourcelist=/tmp/sec.list '
                                             '|grep "^Inst" |grep -i security')
    
            # If the grep was successful that means security package updates found
            # otherwise we get a non-zero exit code so no updates needed.
    >       assert dist_upgrade_simulate.rc != 0
    E       assert 0 != 0
    E        +  where 0 = CommandResult(command=b'apt-get -s dist-upgrade -oDir::Etc::Sourcelist=/tmp/sec.list |grep "^Inst" |grep -i security',...l-security [amd64])\nInst unzip [6.0-20ubuntu1] (6.0-20ubuntu1.1 Ubuntu:16.04/xenial-security [amd64])\n', stderr=None).rc
    
    tests/test_security_updates.py:43: AssertionError
    =========================== short test summary info ============================
    FAILED tests/test_security_updates.py::test_ensure_no_updates_avail[docker:/xenial-sd-sec-update]
    ================== 1 failed, 144 passed, 1 xpassed in 29.91s ===================
An error occurred during the test sequence action: 'verify'. Cleaning up.
--> Inventory /home/user/securedrop/molecule/builder-xenial/../../install_files/ansible-base/group_vars linked to /home/user/.cache/molecule/securedrop/builder-xenial/inventory/group_vars
--> Scenario: 'builder-xenial'
--> Action: 'cleanup'
Skipping, cleanup playbook not configured.
--> Inventory /home/user/securedrop/molecule/builder-xenial/../../install_files/ansible-base/group_vars linked to /home/user/.cache/molecule/securedrop/builder-xenial/inventory/group_vars
--> Scenario: 'builder-xenial'
--> Action: 'destroy'
    
    PLAY [Destroy] *****************************************************************
    
    TASK [Destroy molecule instance(s)] ********************************************
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'xenial-sd-app'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'xenial-sd-generic-ossec-agent'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'xenial-sd-generic-ossec-server'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'xenial-sd-generic-ossec-agent2'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'xenial-sd-generic-ossec-server2'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'xenial-sd-grsec'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'xenial-sd-config'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'xenial-sd-keyring'})
    changed: [localhost] => (item={'groups': ['builders'], 'name': 'xenial-sd-sec-update'})
    changed: [localhost] => (item={'groups': ['testers'], 'name': 'xenial-sd-dpkg-verification'})
    
    PLAY RECAP *********************************************************************
    localhost                  : ok=1    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
    
--> Pruning extra files from scenario ephemeral directory
make: *** [Makefile:320: build-debs] Error 1
(.venv) user@dev-workstation:~/securedrop$ vi build-debs-output
(.venv) user@dev-workstation:~/securedrop$ make build-debs^C
(.venv) user@dev-workstation:~/securedrop$ git status
HEAD detached at 1.7.0-rc3
Untracked files:
  (use "git add <file>..." to include in what will be committed)

	1.7.0-logs
	build-debs-output

nothing added to commit but untracked files present (use "git add" to track)
(.venv) user@dev-workstation:~/securedrop$ sha256sum build/xenial/*1.7.0~rc3*.deb
3e9cd20ae860820cfe2cdf4d59ee1713c122e0147e68447ba50da227ff9dc641  build/xenial/securedrop-app-code_1.7.0~rc3+xenial_amd64.deb
988ee07124a00062c8f8d40dd82dc494fcd1cbca6ee292ac4388d5d55dee078c  build/xenial/securedrop-config-0.1.3+1.7.0~rc3-amd64.deb
3f2c03a491e1f1482b0a5453d1553f8a813cc461300f77da45d54e0b167b943e  build/xenial/securedrop-keyring-0.1.4+1.7.0~rc3-amd64.deb
89b052228c5d27f496c4e8af47ae313511aede15b7255f842125689c18cfee4e  build/xenial/securedrop-ossec-agent-3.6.0+1.7.0~rc3-amd64.deb
5f754e1c112890b75455aee1932411e82718383e27294ee41bb3a6649be363d5  build/xenial/securedrop-ossec-server-3.6.0+1.7.0~rc3-amd64.deb
