user@sd-dev [(1.5.0-rc1) $%] ~/src/fpf/securedrop $ git checkout 1.5.0-rc1
HEAD is now at 867a143c1 SecureDrop 1.5.0~rc1
user@sd-dev [(1.5.0-rc1) $%] ~/src/fpf/securedrop $ make build-debs
Building SecureDrop Debian packages...
Creating Python 3 virtualenv in .venv
Already using interpreter /usr/bin/python3
Using base prefix '/usr'
New python executable in /home/user/src/fpf/securedrop/.venv/bin/python3
Also creating executable in /home/user/src/fpf/securedrop/.venv/bin/python
Installing setuptools, pkg_resources, pip, wheel...done.
--> Validating schema /home/user/src/fpf/securedrop/molecule/builder-xenial/molecule.yml.
Validation completed successfully.
--> Validating schema /home/user/src/fpf/securedrop/molecule/libvirt-staging-xenial/molecule.yml.
Validation completed successfully.
--> Validating schema /home/user/src/fpf/securedrop/molecule/ansible-config/molecule.yml.
Validation completed successfully.
--> Validating schema /home/user/src/fpf/securedrop/molecule/vagrant-packager/molecule.yml.
Validation completed successfully.
--> Validating schema /home/user/src/fpf/securedrop/molecule/qubes-staging/molecule.yml.
Validation completed successfully.
--> Validating schema /home/user/src/fpf/securedrop/molecule/fetch-tor-packages/molecule.yml.
Validation completed successfully.
--> Validating schema /home/user/src/fpf/securedrop/molecule/virtualbox-staging-xenial/molecule.yml.
Validation completed successfully.
--> Validating schema /home/user/src/fpf/securedrop/molecule/upgrade/molecule.yml.
Validation completed successfully.
--> Test matrix

└── builder-xenial
    ├── destroy
    ├── create
    ├── converge
    ├── verify
    └── destroy

--> Inventory /home/user/src/fpf/securedrop/molecule/builder-xenial/../../install_files/ansible-base/group_vars linked to /home/user/.cache/molecule/securedrop/builder-xenial/inventory/group_vars
--> Scenario: 'builder-xenial'
--> Action: 'destroy'
--> Sanity checks: 'docker'

    PLAY [Destroy] *****************************************************************

    TASK [Destroy molecule instance(s)] ********************************************
    ok: [localhost] => (item={'name': 'xenial-sd-app', 'groups': ['builders']})
    ok: [localhost] => (item={'name': 'xenial-sd-generic-ossec-agent', 'groups': ['builders']})
    ok: [localhost] => (item={'name': 'xenial-sd-generic-ossec-server', 'groups': ['builders']})
    ok: [localhost] => (item={'name': 'xenial-sd-generic-ossec-agent2', 'groups': ['builders']})
    ok: [localhost] => (item={'name': 'xenial-sd-generic-ossec-server2', 'groups': ['builders']})
    ok: [localhost] => (item={'name': 'xenial-sd-grsec', 'groups': ['builders']})
    ok: [localhost] => (item={'name': 'xenial-sd-config', 'groups': ['builders']})
    ok: [localhost] => (item={'name': 'xenial-sd-keyring', 'groups': ['builders']})
    ok: [localhost] => (item={'name': 'xenial-sd-sec-update', 'groups': ['builders']})
    ok: [localhost] => (item={'name': 'xenial-sd-dpkg-verification', 'groups': ['testers']})

    PLAY RECAP *********************************************************************
    localhost                  : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0

--> Inventory /home/user/src/fpf/securedrop/molecule/builder-xenial/../../install_files/ansible-base/group_vars linked to /home/user/.cache/molecule/securedrop/builder-xenial/inventory/group_vars
--> Scenario: 'builder-xenial'
--> Action: 'create'
--> Sanity checks: 'docker'

    PLAY [Create] ******************************************************************

    TASK [debug] *******************************************************************
    ok: [localhost] => {
        "msg": "Building with Docker image quay.io/freedomofpress/sd-docker-builder-xenial@sha256:b1ef46a025689011a1cb7774fb4bc57222ac32964791db3ebb78bf61278d9e6c"
    }

    TASK [Create builders] *********************************************************
    changed: [localhost] => (item={'name': 'xenial-sd-app', 'groups': ['builders']})
    changed: [localhost] => (item={'name': 'xenial-sd-generic-ossec-agent', 'groups': ['builders']})
    changed: [localhost] => (item={'name': 'xenial-sd-generic-ossec-server', 'groups': ['builders']})
    changed: [localhost] => (item={'name': 'xenial-sd-generic-ossec-agent2', 'groups': ['builders']})
    changed: [localhost] => (item={'name': 'xenial-sd-generic-ossec-server2', 'groups': ['builders']})
    changed: [localhost] => (item={'name': 'xenial-sd-grsec', 'groups': ['builders']})
    changed: [localhost] => (item={'name': 'xenial-sd-config', 'groups': ['builders']})
    changed: [localhost] => (item={'name': 'xenial-sd-keyring', 'groups': ['builders']})
    changed: [localhost] => (item={'name': 'xenial-sd-sec-update', 'groups': ['builders']})
    changed: [localhost] => (item={'name': 'xenial-sd-dpkg-verification', 'groups': ['testers']})

    PLAY RECAP *********************************************************************
    localhost                  : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0

--> Inventory /home/user/src/fpf/securedrop/molecule/builder-xenial/../../install_files/ansible-base/group_vars linked to /home/user/.cache/molecule/securedrop/builder-xenial/inventory/group_vars
--> Scenario: 'builder-xenial'
--> Action: 'converge'

    PLAY [Build SecureDrop application Debian package from local repository.] ******

    TASK [Gathering Facts] *********************************************************
    ok: [xenial-sd-generic-ossec-server]
    ok: [xenial-sd-config]
    ok: [xenial-sd-generic-ossec-agent]
    ok: [xenial-sd-generic-ossec-agent2]
    ok: [xenial-sd-app]

    TASK [build-securedrop-app-code-deb-pkg : Copy install_files/securedrop-app-code to prep directory] ***
    changed: [xenial-sd-app]

    TASK [Gathering Facts] *********************************************************
    ok: [xenial-sd-generic-ossec-server2]
    ok: [xenial-sd-grsec]
    ok: [xenial-sd-keyring]
    ok: [xenial-sd-sec-update]

    TASK [build-securedrop-app-code-deb-pkg : Copy app code to prep directory under var/www/securedrop] ***
    changed: [xenial-sd-app]

    TASK [build-securedrop-app-code-deb-pkg : Copy setup.py to prep directory] *****
    changed: [xenial-sd-app]

    TASK [build-securedrop-app-code-deb-pkg : Copy MANIFEST.in to prep directory] ***
    changed: [xenial-sd-app]

    TASK [build-securedrop-app-code-deb-pkg : Copy requirements.txt to prep directory] ***
    changed: [xenial-sd-app]

    TASK [build-securedrop-app-code-deb-pkg : Install sass Ruby gem] ***************
    changed: [xenial-sd-app]

    TASK [build-securedrop-app-code-deb-pkg : Create static asset directories.] ****
    changed: [xenial-sd-app] => (item=/tmp/securedrop-app-code_1.5.0~rc1+xenial_amd64-prep/var/www/securedrop/static/css)

    TASK [build-ossec-deb-pkg : Create src path folder] ****************************
    changed: [xenial-sd-generic-ossec-server] => (item=/tmp/build/ossec-server)

    TASK [build-securedrop-app-code-deb-pkg : Create static asset directories.] ****
    ok: [xenial-sd-app] => (item=/tmp/securedrop-app-code_1.5.0~rc1+xenial_amd64-prep/var/www/securedrop/static/gen)

    TASK [build-ossec-deb-pkg : Create src path folder] ****************************
    ok: [xenial-sd-generic-ossec-server] => (item=/tmp/build)
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via
squash_actions is deprecated. Instead of using a loop to supply multiple items
and specifying `name: "{{ item }}"`, please use `name: '{{
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting
deprecation_warnings=False in ansible.cfg.

    TASK [build-securedrop-app-code-deb-pkg : Create static asset directories.] ****
    ok: [xenial-sd-app] => (item=/tmp/securedrop-app-code_1.5.0~rc1+xenial_amd64-prep/var/www/securedrop/static/.webassets-cache)
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via
squash_actions is deprecated. Instead of using a loop to supply multiple items
and specifying `name: "{{ item }}"`, please use `name: '{{
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting
deprecation_warnings=False in ansible.cfg.

    TASK [build-securedrop-app-code-deb-pkg : Compile SASS to CSS.] ****************
    changed: [xenial-sd-app]
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via
squash_actions is deprecated. Instead of using a loop to supply multiple items
and specifying `name: "{{ item }}"`, please use `name: '{{
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting
deprecation_warnings=False in ansible.cfg.
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via
squash_actions is deprecated. Instead of using a loop to supply multiple items
and specifying `name: "{{ item }}"`, please use `name: '{{
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting
deprecation_warnings=False in ansible.cfg.

    TASK [build-securedrop-app-code-deb-pkg : Remove temporary SASS directory from package build directory.] ***
    changed: [xenial-sd-app] => (item=sass)
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via
squash_actions is deprecated. Instead of using a loop to supply multiple items
and specifying `name: "{{ item }}"`, please use `name: '{{
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting
deprecation_warnings=False in ansible.cfg.
    changed: [xenial-sd-app] => (item=.sass-cache)
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via
squash_actions is deprecated. Instead of using a loop to supply multiple items
and specifying `name: "{{ item }}"`, please use `name: '{{
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting
deprecation_warnings=False in ansible.cfg.
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via
squash_actions is deprecated. Instead of using a loop to supply multiple items
and specifying `name: "{{ item }}"`, please use `name: '{{
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting
deprecation_warnings=False in ansible.cfg.

    TASK [build-ossec-deb-pkg : Install python-requests for URL fetching] **********
    changed: [xenial-sd-generic-ossec-server]

    TASK [build-ossec-deb-pkg : Copy over current directory for repo build] ********
    changed: [xenial-sd-generic-ossec-server]

    TASK [build-ossec-deb-pkg : Include OSSEC download URLs.] **********************
    ok: [xenial-sd-generic-ossec-server]
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via
squash_actions is deprecated. Instead of using a loop to supply multiple items
and specifying `name: "{{ item }}"`, please use `name: '{{
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting
deprecation_warnings=False in ansible.cfg.

    TASK [build-ossec-deb-pkg : Create src path folder] ****************************
    changed: [xenial-sd-generic-ossec-agent] => (item=/tmp/build/ossec-agent)

    TASK [build-ossec-deb-pkg : Download OSSEC tarball.] ***************************
    changed: [xenial-sd-generic-ossec-server]

    TASK [build-ossec-deb-pkg : Create src path folder] ****************************
    ok: [xenial-sd-generic-ossec-agent] => (item=/tmp/build)

    TASK [build-ossec-deb-pkg : Download OSSEC signature.] *************************
    changed: [xenial-sd-generic-ossec-server]
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via
squash_actions is deprecated. Instead of using a loop to supply multiple items
and specifying `name: "{{ item }}"`, please use `name: '{{
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting
deprecation_warnings=False in ansible.cfg.

    TASK [build-ossec-deb-pkg : Copy OSSEC archive GPG key.] ***********************
    changed: [xenial-sd-generic-ossec-server]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-config -> localhost]

    TASK [build-ossec-deb-pkg : Import OSSEC archive GPG key.] *********************
    changed: [xenial-sd-generic-ossec-server]
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via
squash_actions is deprecated. Instead of using a loop to supply multiple items
and specifying `name: "{{ item }}"`, please use `name: '{{
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting
deprecation_warnings=False in ansible.cfg.

    TASK [build-ossec-deb-pkg : Verify signature of OSSEC tarball.] ****************
    changed: [xenial-sd-generic-ossec-server]
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via
squash_actions is deprecated. Instead of using a loop to supply multiple items
and specifying `name: "{{ item }}"`, please use `name: '{{
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting
deprecation_warnings=False in ansible.cfg.
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via
squash_actions is deprecated. Instead of using a loop to supply multiple items
and specifying `name: "{{ item }}"`, please use `name: '{{
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting
deprecation_warnings=False in ansible.cfg.

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-config -> localhost]
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via
squash_actions is deprecated. Instead of using a loop to supply multiple items
and specifying `name: "{{ item }}"`, please use `name: '{{
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting
deprecation_warnings=False in ansible.cfg.
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via
squash_actions is deprecated. Instead of using a loop to supply multiple items
and specifying `name: "{{ item }}"`, please use `name: '{{
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting
deprecation_warnings=False in ansible.cfg.

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-generic-ossec-agent2 -> localhost]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-config -> localhost]

    TASK [build-ossec-deb-pkg : Install python-requests for URL fetching] **********
    changed: [xenial-sd-generic-ossec-agent]

    TASK [build-generic-pkg : Reduce weird path re-usage] **************************
    ok: [xenial-sd-generic-ossec-agent2]

    TASK [build-ossec-deb-pkg : Install apt dependencies for building OSSEC packages.] ***
    changed: [xenial-sd-generic-ossec-server] => (item=libevent1-dev)

    TASK [build-ossec-deb-pkg : Copy over current directory for repo build] ********
    changed: [xenial-sd-generic-ossec-agent]

    TASK [build-generic-pkg : Reduce weird path re-usage] **************************
    ok: [xenial-sd-generic-ossec-server2]

    TASK [build-generic-pkg : Ensure build directory in-place] *********************
    ok: [xenial-sd-generic-ossec-agent2]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-config -> localhost]

    TASK [build-ossec-deb-pkg : Include OSSEC download URLs.] **********************
    ok: [xenial-sd-generic-ossec-agent]

    TASK [build-generic-pkg : Ensure build directory in-place] *********************
    ok: [xenial-sd-generic-ossec-server2]

    TASK [build-generic-pkg : Copy app code to build directory.] *******************
    changed: [xenial-sd-generic-ossec-agent2]

    TASK [build-generic-pkg : Copy app code to build directory.] *******************
    changed: [xenial-sd-generic-ossec-server2]

    TASK [build-ossec-deb-pkg : Download OSSEC tarball.] ***************************
    changed: [xenial-sd-generic-ossec-agent]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-generic-ossec-agent2 -> localhost]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-generic-ossec-server2 -> localhost]

    TASK [build-generic-pkg : Reduce weird path re-usage] **************************
    ok: [xenial-sd-config]

    TASK [build-ossec-deb-pkg : Download OSSEC signature.] *************************
    changed: [xenial-sd-generic-ossec-agent]

    TASK [build-ossec-deb-pkg : Install apt dependencies for building OSSEC packages.] ***
    changed: [xenial-sd-generic-ossec-server] => (item=libpcre2-dev)

    TASK [build-generic-pkg : Ensure build directory in-place] *********************
    ok: [xenial-sd-config]

    TASK [build-generic-pkg : run bash script to build generic packages] ***********
    changed: [xenial-sd-generic-ossec-agent2]

    TASK [build-generic-pkg : Copy app code to build directory.] *******************
    changed: [xenial-sd-config]

    TASK [build-generic-pkg : Track down package] **********************************
    ok: [xenial-sd-generic-ossec-agent2]

    TASK [build-ossec-deb-pkg : Copy OSSEC archive GPG key.] ***********************
    changed: [xenial-sd-generic-ossec-agent]

    TASK [build-generic-pkg : run bash script to build generic packages] ***********
    changed: [xenial-sd-generic-ossec-server2]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-config -> localhost]

    TASK [build-ossec-deb-pkg : Extract OSSEC source tarball.] *********************
    changed: [xenial-sd-generic-ossec-server]

    TASK [build-generic-pkg : Fetch back package] **********************************
    changed: [xenial-sd-generic-ossec-agent2] => (item={'ischr': False, 'isreg': True, 'issock': False, 'xgrp': False, 'woth': False, 'gid': 0, 'islnk': False, 'atime': 1594765625.795, 'ctime': 1594765625.796, 'inode': 920156, 'isuid': False, 'path': '/tmp/securedrop-ossec-agent-3.6.0+1.5.0~rc1-amd64.deb', 'xusr': False, 'isgid': False, 'pw_name': 'root', 'isfifo': False, 'dev': 91, 'wgrp': False, 'wusr': True, 'nlink': 1, 'mode': '0644', 'xoth': False, 'rusr': True, 'size': 4550, 'gr_name': 'root', 'isdir': False, 'roth': True, 'uid': 0, 'isblk': False, 'mtime': 1594765625.796, 'rgrp': True})

    TASK [build-ossec-deb-pkg : Import OSSEC archive GPG key.] *********************
    changed: [xenial-sd-generic-ossec-agent]

    TASK [build-generic-pkg : Track down package] **********************************
    ok: [xenial-sd-generic-ossec-server2]

    TASK [build-ossec-deb-pkg : Create /etc directory within source directory.] ****
    ok: [xenial-sd-generic-ossec-server]

    TASK [build-generic-pkg : run bash script to build generic packages] ***********
    changed: [xenial-sd-config]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-grsec -> localhost]

    TASK [build-ossec-deb-pkg : Verify signature of OSSEC tarball.] ****************
    changed: [xenial-sd-generic-ossec-agent]
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via
squash_actions is deprecated. Instead of using a loop to supply multiple items
and specifying `name: "{{ item }}"`, please use `name: '{{
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting
deprecation_warnings=False in ansible.cfg.

    TASK [build-generic-pkg : Fetch back package] **********************************
    changed: [xenial-sd-generic-ossec-server2] => (item={'xusr': False, 'mode': '0644', 'inode': 424395, 'atime': 1594765631.619, 'isdir': False, 'wgrp': False, 'rusr': True, 'xgrp': False, 'path': '/tmp/securedrop-ossec-server-3.6.0+1.5.0~rc1-amd64.deb', 'roth': True, 'woth': False, 'mtime': 1594765631.619, 'rgrp': True, 'isfifo': False, 'ischr': False, 'ctime': 1594765631.619, 'dev': 103, 'isgid': False, 'gid': 0, 'size': 7626, 'uid': 0, 'nlink': 1, 'xoth': False, 'islnk': False, 'isuid': False, 'isreg': True, 'wusr': True, 'isblk': False, 'pw_name': 'root', 'issock': False, 'gr_name': 'root'})

    TASK [build-generic-pkg : Track down package] **********************************
    ok: [xenial-sd-config]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-generic-ossec-agent2 -> localhost]

    TASK [build-ossec-deb-pkg : Copy OSSEC preloaded vars template.] ***************
    changed: [xenial-sd-generic-ossec-server]

    TASK [build-generic-pkg : Fetch back package] **********************************
    changed: [xenial-sd-config] => (item={'atime': 1594765639.897, 'isblk': False, 'isfifo': False, 'islnk': False, 'isdir': False, 'roth': True, 'rgrp': True, 'isreg': True, 'dev': 127, 'xgrp': False, 'size': 2740, 'inode': 920292, 'ischr': False, 'wgrp': False, 'ctime': 1594765639.897, 'issock': False, 'xoth': False, 'mode': '0644', 'path': '/tmp/securedrop-config-0.1.3+1.5.0~rc1-amd64.deb', 'woth': False, 'pw_name': 'root', 'isuid': False, 'xusr': False, 'wusr': True, 'uid': 0, 'isgid': False, 'nlink': 1, 'gid': 0, 'rusr': True, 'mtime': 1594765639.897, 'gr_name': 'root'})

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-keyring -> localhost]

    TASK [build-ossec-deb-pkg : Disable JIT in OSSEC Makefile] *********************
    changed: [xenial-sd-generic-ossec-server]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-generic-ossec-server2 -> localhost]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-sec-update -> localhost]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-generic-ossec-agent2 -> localhost]

    TASK [build-ossec-deb-pkg : Install apt dependencies for building OSSEC packages.] ***
    changed: [xenial-sd-generic-ossec-agent] => (item=libevent1-dev)

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-grsec -> localhost]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-generic-ossec-agent2 -> localhost]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-generic-ossec-server2 -> localhost]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-keyring -> localhost]
    ok: [xenial-sd-sec-update -> localhost]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-grsec -> localhost]

    TASK [build-generic-pkg : Reduce weird path re-usage] **************************
    ok: [xenial-sd-keyring]

    TASK [build-ossec-deb-pkg : Install apt dependencies for building OSSEC packages.] ***
    changed: [xenial-sd-generic-ossec-agent] => (item=libpcre2-dev)

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-generic-ossec-server2 -> localhost]

    TASK [build-generic-pkg : Ensure build directory in-place] *********************
    ok: [xenial-sd-keyring]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-sec-update -> localhost]

    TASK [build-generic-pkg : Copy app code to build directory.] *******************
    changed: [xenial-sd-keyring]

    TASK [build-ossec-deb-pkg : Extract OSSEC source tarball.] *********************
    changed: [xenial-sd-generic-ossec-agent]

    TASK [build-generic-pkg : Reduce weird path re-usage] **************************
    ok: [xenial-sd-grsec]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-keyring -> localhost]

    TASK [build-ossec-deb-pkg : Run OSSEC installer script on extracted source.] ***
    changed: [xenial-sd-generic-ossec-server]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-generic-ossec-server2 -> localhost]

    TASK [build-ossec-deb-pkg : Create /etc directory within source directory.] ****
    ok: [xenial-sd-generic-ossec-agent]

    TASK [build-generic-pkg : Ensure build directory in-place] *********************
    ok: [xenial-sd-grsec]

    TASK [build-ossec-deb-pkg : Create OSSEC build directory.] *********************
    changed: [xenial-sd-generic-ossec-server] => (item=/tmp/build/ossec-server-3.6.0-amd64)

    TASK [build-generic-pkg : Copy app code to build directory.] *******************
    changed: [xenial-sd-grsec]

    TASK [build-ossec-deb-pkg : Create OSSEC build directory.] *********************
    changed: [xenial-sd-generic-ossec-server] => (item=/tmp/build/ossec-server-3.6.0-amd64/var)

    TASK [build-generic-pkg : run bash script to build generic packages] ***********
    changed: [xenial-sd-keyring]

    TASK [build-ossec-deb-pkg : Copy OSSEC preloaded vars template.] ***************
    changed: [xenial-sd-generic-ossec-agent]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-grsec -> localhost]

    TASK [build-securedrop-app-code-deb-pkg : Install SecureDrop Python requirements in container] ***
    changed: [xenial-sd-app]

    TASK [build-ossec-deb-pkg : Remove client.keys to avoid overwriting existing client.keys] ***
    changed: [xenial-sd-generic-ossec-server]

    TASK [build-generic-pkg : Track down package] **********************************
    ok: [xenial-sd-keyring]

    TASK [build-ossec-deb-pkg : Disable JIT in OSSEC Makefile] *********************
    changed: [xenial-sd-generic-ossec-agent]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-sec-update -> localhost]

    TASK [build-generic-pkg : Create any necessary parent directories for jinja files] ***
    ok: [xenial-sd-grsec] => (item={'path': '/home/user/src/fpf/securedrop/install_files/securedrop-grsec/DEBIAN/control.j2', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 501, 'inode': 1061299, 'dev': 51728, 'nlink': 1, 'atime': 1594737223.155, 'mtime': 1588622394.194, 'ctime': 1588622394.194, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})

    TASK [build-ossec-deb-pkg : Copy /var/ossec/ to OSSEC build directory.] ********
    changed: [xenial-sd-generic-ossec-server]

    TASK [build-generic-pkg : Fetch back package] **********************************
    changed: [xenial-sd-keyring] => (item={'inode': 919994, 'gid': 0, 'path': '/tmp/securedrop-keyring-0.1.4+1.5.0~rc1-amd64.deb', 'size': 5826, 'rgrp': True, 'isfifo': False, 'mode': '0644', 'isblk': False, 'rusr': True, 'pw_name': 'root', 'gr_name': 'root', 'wusr': True, 'isreg': True, 'isdir': False, 'atime': 1594765703.714, 'ischr': False, 'woth': False, 'mtime': 1594765703.715, 'wgrp': False, 'xoth': False, 'xusr': False, 'isgid': False, 'xgrp': False, 'ctime': 1594765703.715, 'issock': False, 'isuid': False, 'nlink': 1, 'islnk': False, 'roth': True, 'dev': 139, 'uid': 0})

    TASK [build-securedrop-app-code-deb-pkg : Compile PO to MO.] *******************
    changed: [xenial-sd-app]

    TASK [build-ossec-deb-pkg : Copy OSSEC DEBIAN package scripts to build directory.] ***
    changed: [xenial-sd-generic-ossec-server]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-keyring -> localhost]

    TASK [build-generic-pkg : Template out any jinja files found and copy over] ****
    changed: [xenial-sd-grsec] => (item={'path': '/home/user/src/fpf/securedrop/install_files/securedrop-grsec/DEBIAN/control.j2', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 501, 'inode': 1061299, 'dev': 51728, 'nlink': 1, 'atime': 1594737223.155, 'mtime': 1588622394.194, 'ctime': 1588622394.194, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})

    TASK [build-securedrop-app-code-deb-pkg : Create apparmor.d directory in prep directory] ***
    changed: [xenial-sd-app]

    TASK [build-generic-pkg : run bash script to build generic packages] ***********
    changed: [xenial-sd-grsec]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-sec-update -> localhost]

    TASK [build-ossec-deb-pkg : Copy OSSEC DEBIAN/control template to build directory.] ***
    changed: [xenial-sd-generic-ossec-server]

    TASK [build-securedrop-app-code-deb-pkg : Copy AppArmor profiles to prep path] ***
    changed: [xenial-sd-app] => (item=usr.sbin.tor)

    TASK [build-generic-pkg : Track down package] **********************************
    ok: [xenial-sd-grsec]

    TASK [build-ossec-deb-pkg : Copy OSSEC /usr and /etc directories to build directory.] ***
    changed: [xenial-sd-generic-ossec-server] => (item=etc)

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-keyring -> localhost]

    TASK [build-ossec-deb-pkg : Run OSSEC installer script on extracted source.] ***
    changed: [xenial-sd-generic-ossec-agent]

    TASK [build-securedrop-app-code-deb-pkg : Copy AppArmor profiles to prep path] ***
    changed: [xenial-sd-app] => (item=usr.sbin.apache2)

    TASK [build-generic-pkg : Fetch back package] **********************************
    changed: [xenial-sd-grsec] => (item={'rusr': True, 'ischr': False, 'islnk': False, 'dev': 115, 'isgid': False, 'atime': 1594765721.261, 'ctime': 1594765721.261, 'xusr': False, 'xgrp': False, 'path': '/tmp/securedrop-grsec-4.14.188-amd64.deb', 'isfifo': False, 'roth': True, 'mode': '0644', 'issock': False, 'rgrp': True, 'nlink': 1, 'isblk': False, 'isdir': False, 'isuid': False, 'inode': 920253, 'woth': False, 'isreg': True, 'mtime': 1594765721.261, 'wusr': True, 'uid': 0, 'gr_name': 'root', 'gid': 0, 'xoth': False, 'size': 2292, 'wgrp': False, 'pw_name': 'root'})

    TASK [build-ossec-deb-pkg : Copy OSSEC /usr and /etc directories to build directory.] ***
    changed: [xenial-sd-generic-ossec-server] => (item=usr)

    TASK [build-ossec-deb-pkg : Create OSSEC build directory.] *********************
    changed: [xenial-sd-generic-ossec-agent] => (item=/tmp/build/ossec-agent-3.6.0-amd64)

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-grsec -> localhost]

    TASK [build-ossec-deb-pkg : Create OSSEC build directory.] *********************
    changed: [xenial-sd-generic-ossec-agent] => (item=/tmp/build/ossec-agent-3.6.0-amd64/var)

    TASK [build-securedrop-app-code-deb-pkg : Replace placeholder changelog to dist-specific changelog] ***
    changed: [xenial-sd-app]

    TASK [build-ossec-deb-pkg : Remove client.keys to avoid overwriting existing client.keys] ***
    changed: [xenial-sd-generic-ossec-agent]

    TASK [build-ossec-deb-pkg : Build SecureDrop OSSEC deb package.] ***************
    changed: [xenial-sd-generic-ossec-server]

    TASK [build-securedrop-app-code-deb-pkg : Create lib/systemd/services directory in prep directory] ***
    changed: [xenial-sd-app]

    TASK [build-ossec-deb-pkg : Copy /var/ossec/ to OSSEC build directory.] ********
    changed: [xenial-sd-generic-ossec-agent]

    TASK [build-ossec-deb-pkg : Delete OSSEC build directories and config files.] ***
    changed: [xenial-sd-generic-ossec-server] => (item=/etc/init.d/ossec)
    changed: [xenial-sd-generic-ossec-server] => (item=/etc/ossec-init.conf)

    TASK [build-securedrop-app-code-deb-pkg : Copy systemd service configurations to prep path] ***
    changed: [xenial-sd-app] => (item=securedrop_rqrequeue.service)

    TASK [build-ossec-deb-pkg : Copy OSSEC DEBIAN package scripts to build directory.] ***
    changed: [xenial-sd-generic-ossec-agent]

    TASK [build-ossec-deb-pkg : Delete OSSEC build directories and config files.] ***
    changed: [xenial-sd-generic-ossec-server] => (item=/var/ossec)

    TASK [build-securedrop-app-code-deb-pkg : Copy systemd service configurations to prep path] ***
    changed: [xenial-sd-app] => (item=securedrop_rqworker.service)

    TASK [build-ossec-deb-pkg : Delete OSSEC build directories and config files.] ***
    changed: [xenial-sd-generic-ossec-server] => (item=/tmp/OSSEC-ARCHIVE-KEY.asc)

    TASK [Update apt-cache for our security checker] *******************************
    changed: [xenial-sd-sec-update]

    TASK [build-ossec-deb-pkg : Copy OSSEC DEBIAN/control template to build directory.] ***
    changed: [xenial-sd-generic-ossec-agent]

    TASK [build-ossec-deb-pkg : Fetch newly built Debian packages back to localhost.] ***
    changed: [xenial-sd-generic-ossec-server]

    TASK [build-securedrop-app-code-deb-pkg : Copy systemd service configurations to prep path] ***
    changed: [xenial-sd-app] => (item=securedrop_shredder.service)

    TASK [build-ossec-deb-pkg : Copy OSSEC /usr and /etc directories to build directory.] ***
    changed: [xenial-sd-generic-ossec-agent] => (item=etc)
    changed: [xenial-sd-generic-ossec-agent] => (item=usr)

    TASK [build-securedrop-app-code-deb-pkg : Copy systemd service configurations to prep path] ***
    changed: [xenial-sd-app] => (item=securedrop_source_deleter.service)
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via
squash_actions is deprecated. Instead of using a loop to supply multiple items
and specifying `name: "{{ item }}"`, please use `name: '{{
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting
deprecation_warnings=False in ansible.cfg.

    TASK [build-ossec-deb-pkg : Build SecureDrop OSSEC deb package.] ***************
    changed: [xenial-sd-generic-ossec-agent]

    TASK [build-securedrop-app-code-deb-pkg : Create sdist in prep dir] ************
    changed: [xenial-sd-app]

    TASK [build-ossec-deb-pkg : Delete OSSEC build directories and config files.] ***
    changed: [xenial-sd-generic-ossec-agent] => (item=/etc/init.d/ossec)

    TASK [build-securedrop-app-code-deb-pkg : Create build dir] ********************
    changed: [xenial-sd-app]

    TASK [build-ossec-deb-pkg : Delete OSSEC build directories and config files.] ***
    changed: [xenial-sd-generic-ossec-agent] => (item=/etc/ossec-init.conf)
    changed: [xenial-sd-generic-ossec-agent] => (item=/var/ossec)

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-generic-ossec-server -> localhost]

    TASK [build-securedrop-app-code-deb-pkg : Extract sdist to build dir] **********
    changed: [xenial-sd-app]

    TASK [build-ossec-deb-pkg : Delete OSSEC build directories and config files.] ***
    changed: [xenial-sd-generic-ossec-agent] => (item=/tmp/OSSEC-ARCHIVE-KEY.asc)

    TASK [build-ossec-deb-pkg : Fetch newly built Debian packages back to localhost.] ***
    changed: [xenial-sd-generic-ossec-agent]

    TASK [build-securedrop-app-code-deb-pkg : Create empty static asset directories in build dir] ***
    changed: [xenial-sd-app] => (item=/tmp/securedrop-app-code_1.5.0~rc1+xenial_amd64/var/www/securedrop/static/gen)

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-generic-ossec-server -> localhost]

    TASK [build-securedrop-app-code-deb-pkg : Create empty static asset directories in build dir] ***
    changed: [xenial-sd-app] => (item=/tmp/securedrop-app-code_1.5.0~rc1+xenial_amd64/var/www/securedrop/static/.webassets-cache)

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-generic-ossec-agent -> localhost]

    TASK [build-securedrop-app-code-deb-pkg : Create empty static asset directories in build dir] ***
    changed: [xenial-sd-app] => (item=/tmp/securedrop-app-code_1.5.0~rc1+xenial_amd64/var/www/securedrop/.well-known/pki-validation)

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-generic-ossec-server -> localhost]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-generic-ossec-agent -> localhost]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-generic-ossec-server -> localhost]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-generic-ossec-agent -> localhost]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-generic-ossec-server -> localhost]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-generic-ossec-agent -> localhost]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-generic-ossec-agent -> localhost]

    TASK [build-securedrop-app-code-deb-pkg : Build securedrop-app-code Debian package] ***
    changed: [xenial-sd-app]

    TASK [build-securedrop-app-code-deb-pkg : Find newly built Debian package] *****
    ok: [xenial-sd-app]

    TASK [build-securedrop-app-code-deb-pkg : Fetch newly built Debian packages back to localhost] ***
    changed: [xenial-sd-app] => (item={'size': 2108087, 'isfifo': False, 'nlink': 1, 'path': '/tmp/securedrop-app-code_1.5.0~rc1+xenial.tar.gz', 'ctime': 1594765773.817, 'gid': 0, 'issock': False, 'ischr': False, 'xusr': False, 'isgid': False, 'isuid': False, 'gr_name': 'root', 'dev': 53, 'isblk': False, 'isdir': False, 'atime': 1594765773.819, 'xgrp': False, 'mtime': 1594765773.807, 'isreg': True, 'inode': 425088, 'wgrp': False, 'mode': '0644', 'roth': True, 'woth': False, 'rusr': True, 'islnk': False, 'xoth': False, 'rgrp': True, 'wusr': True, 'uid': 0, 'pw_name': 'root'})
    changed: [xenial-sd-app] => (item={'size': 12827184, 'isfifo': False, 'nlink': 1, 'path': '/tmp/securedrop-app-code_1.5.0~rc1+xenial_amd64.deb', 'ctime': 1594765950.701, 'gid': 0, 'issock': False, 'ischr': False, 'xusr': False, 'isgid': False, 'isuid': False, 'gr_name': 'root', 'dev': 53, 'isblk': False, 'isdir': False, 'atime': 1594765950.917, 'xgrp': False, 'mtime': 1594765950.701, 'isreg': True, 'inode': 425132, 'wgrp': False, 'mode': '0644', 'roth': True, 'woth': False, 'rusr': True, 'islnk': False, 'xoth': False, 'rgrp': True, 'wusr': True, 'uid': 0, 'pw_name': 'root'})
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via
squash_actions is deprecated. Instead of using a loop to supply multiple items
and specifying `name: "{{ item }}"`, please use `name: '{{
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting
deprecation_warnings=False in ansible.cfg.
[DEPRECATION WARNING]: Invoking "apt" only once while using a loop via
squash_actions is deprecated. Instead of using a loop to supply multiple items
and specifying `name: "{{ item }}"`, please use `name: '{{
build_ossec_deb_pkg_dependencies }}'` and remove the loop. This feature will be
 removed in version 2.11. Deprecation warnings can be disabled by setting
deprecation_warnings=False in ansible.cfg.

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-app -> localhost]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-app -> localhost]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-app -> localhost]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-app -> localhost]

    TASK [build-generic-pkg : Find any jinja templates] ****************************
    ok: [xenial-sd-app -> localhost]

    PLAY [Give dpkg verify container access to debs] *******************************

    TASK [Discover local debian build files] ***************************************
    ok: [xenial-sd-dpkg-verification -> localhost]

    TASK [Create build dir] ********************************************************
    ok: [xenial-sd-dpkg-verification]

    TASK [Drop debian files into container] ****************************************
    changed: [xenial-sd-dpkg-verification] => (item={'path': '/home/user/src/fpf/securedrop/build/xenial/ossec-server-3.6.0-amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 716560, 'inode': 930083, 'dev': 51728, 'nlink': 1, 'atime': 1594765751.012, 'mtime': 1594765751.011, 'ctime': 1594765751.011, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    changed: [xenial-sd-dpkg-verification] => (item={'path': '/home/user/src/fpf/securedrop/build/xenial/securedrop-config-0.1.3+1.5.0~rc1-amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 2740, 'inode': 930076, 'dev': 51728, 'nlink': 1, 'atime': 1594765649.972, 'mtime': 1594765649.972, 'ctime': 1594765649.972, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    changed: [xenial-sd-dpkg-verification] => (item={'path': '/home/user/src/fpf/securedrop/build/xenial/ossec-agent-3.6.0-amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 284158, 'inode': 928426, 'dev': 51728, 'nlink': 1, 'atime': 1594765767.268, 'mtime': 1594765767.267, 'ctime': 1594765767.267, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    changed: [xenial-sd-dpkg-verification] => (item={'path': '/home/user/src/fpf/securedrop/build/xenial/securedrop-ossec-server-3.6.0+1.5.0~rc1-amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 7626, 'inode': 930080, 'dev': 51728, 'nlink': 1, 'atime': 1594765643.547, 'mtime': 1594765643.547, 'ctime': 1594765643.547, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    changed: [xenial-sd-dpkg-verification] => (item={'path': '/home/user/src/fpf/securedrop/build/xenial/securedrop-keyring-0.1.4+1.5.0~rc1-amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 5826, 'inode': 930077, 'dev': 51728, 'nlink': 1, 'atime': 1594765711.87, 'mtime': 1594765711.87, 'ctime': 1594765711.87, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    changed: [xenial-sd-dpkg-verification] => (item={'path': '/home/user/src/fpf/securedrop/build/xenial/securedrop-grsec-4.14.188-amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 2292, 'inode': 930082, 'dev': 51728, 'nlink': 1, 'atime': 1594765729.565, 'mtime': 1594765729.564, 'ctime': 1594765729.564, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    changed: [xenial-sd-dpkg-verification] => (item={'path': '/home/user/src/fpf/securedrop/build/xenial/securedrop-app-code_1.5.0~rc1+xenial_amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 12827184, 'inode': 930085, 'dev': 51728, 'nlink': 1, 'atime': 1594765955.984, 'mtime': 1594765955.976, 'ctime': 1594765955.976, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})
    changed: [xenial-sd-dpkg-verification] => (item={'path': '/home/user/src/fpf/securedrop/build/xenial/securedrop-ossec-agent-3.6.0+1.5.0~rc1-amd64.deb', 'mode': '0644', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 4550, 'inode': 930079, 'dev': 51728, 'nlink': 1, 'atime': 1594765634.985, 'mtime': 1594765634.983, 'ctime': 1594765634.983, 'gr_name': 'user', 'pw_name': 'user', 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': True, 'xoth': False, 'isuid': False, 'isgid': False})

    PLAY RECAP *********************************************************************
    xenial-sd-app              : ok=29   changed=22   unreachable=0    failed=0    skipped=89   rescued=0    ignored=0
    xenial-sd-config           : ok=12   changed=3    unreachable=0    failed=0    skipped=106  rescued=0    ignored=0
    xenial-sd-dpkg-verification : ok=3    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
    xenial-sd-generic-ossec-agent : ok=30   changed=22   unreachable=0    failed=0    skipped=88   rescued=0    ignored=0
    xenial-sd-generic-ossec-agent2 : ok=12   changed=3    unreachable=0    failed=0    skipped=106  rescued=0    ignored=0
    xenial-sd-generic-ossec-server : ok=30   changed=22   unreachable=0    failed=0    skipped=88   rescued=0    ignored=0
    xenial-sd-generic-ossec-server2 : ok=12   changed=3    unreachable=0    failed=0    skipped=106  rescued=0    ignored=0
    xenial-sd-grsec            : ok=14   changed=4    unreachable=0    failed=0    skipped=104  rescued=0    ignored=0
    xenial-sd-keyring          : ok=12   changed=3    unreachable=0    failed=0    skipped=106  rescued=0    ignored=0
    xenial-sd-sec-update       : ok=7    changed=1    unreachable=0    failed=0    skipped=111  rescued=0    ignored=0

--> Inventory /home/user/src/fpf/securedrop/molecule/builder-xenial/../../install_files/ansible-base/group_vars linked to /home/user/.cache/molecule/securedrop/builder-xenial/inventory/group_vars
--> Scenario: 'builder-xenial'
--> Action: 'verify'
--> Executing Testinfra tests found in /home/user/src/fpf/securedrop/molecule/builder-xenial/tests//...
    ============================= test session starts ==============================
    platform linux -- Python 3.7.3, pytest-3.2.0, py-1.4.34, pluggy-0.4.0
    rootdir: /home/user/src/fpf/securedrop, inifile:
    plugins: testinfra-3.2.0, xdist-1.18.2
gw0 [225] / gw1 [225] / gw2 [225] / gw3 [225]
    scheduling tests via LoadScheduling
    ........................................................................X.....................................................................................................................................................F..
    =================================== FAILURES ===================================
    _________ test_ensure_no_updates_avail[docker://xenial-sd-sec-update] __________
    [gw2] linux -- Python 3.7.3 /home/user/src/fpf/securedrop/.venv/bin/python3

    host = <testinfra.host.Host object at 0x7b4e84653550>

        @pytest.mark.skipif(not test_should_run(), reason="Only tested for RCs and builder updates")
        def test_ensure_no_updates_avail(host):
            """
                Test to make sure that there are no security-updates in the
                base builder container.
            """
            # Filter out all the security repos to their own file
            # without this change all the package updates appeared as if they were
            # coming from normal ubuntu update channel (since they get posted to both)
            host.run('egrep "^deb.*security" /etc/apt/sources.list > /tmp/sec.list')

            dist_upgrade_simulate = host.run('apt-get -s dist-upgrade '
                                             '-oDir::Etc::Sourcelist=/tmp/sec.list '
                                             '|grep "^Inst" |grep -i security')

            # If the grep was successful that means security package updates found
            # otherwise we get a non-zero exit code so no updates needed.
    >       assert dist_upgrade_simulate.rc != 0
    E       assert 0 != 0
    E        +  where 0 = CommandResult(command=b'apt-get -s dist-upgrade -oDir::Etc::Sourcelist=/tmp/sec.list |grep "^Inst" |grep -i security',...d64])\nInst multiarch-support [2.23-0ubuntu11] (2.23-0ubuntu11.2 Ubuntu:16.04/xenial-security [amd64])\n', stderr=None).rc

    tests/test_security_updates.py:43: AssertionError
    =============== 1 failed, 223 passed, 1 xpassed in 38.98 seconds ===============
An error occurred during the test sequence action: 'verify'. Cleaning up.
--> Inventory /home/user/src/fpf/securedrop/molecule/builder-xenial/../../install_files/ansible-base/group_vars linked to /home/user/.cache/molecule/securedrop/builder-xenial/inventory/group_vars
--> Scenario: 'builder-xenial'
--> Action: 'cleanup'
Skipping, cleanup playbook not configured.
--> Inventory /home/user/src/fpf/securedrop/molecule/builder-xenial/../../install_files/ansible-base/group_vars linked to /home/user/.cache/molecule/securedrop/builder-xenial/inventory/group_vars
--> Scenario: 'builder-xenial'
--> Action: 'destroy'

    PLAY [Destroy] *****************************************************************

    TASK [Destroy molecule instance(s)] ********************************************
    changed: [localhost] => (item={'name': 'xenial-sd-app', 'groups': ['builders']})
    changed: [localhost] => (item={'name': 'xenial-sd-generic-ossec-agent', 'groups': ['builders']})
    changed: [localhost] => (item={'name': 'xenial-sd-generic-ossec-server', 'groups': ['builders']})
    changed: [localhost] => (item={'name': 'xenial-sd-generic-ossec-agent2', 'groups': ['builders']})
    changed: [localhost] => (item={'name': 'xenial-sd-generic-ossec-server2', 'groups': ['builders']})
    changed: [localhost] => (item={'name': 'xenial-sd-grsec', 'groups': ['builders']})
    changed: [localhost] => (item={'name': 'xenial-sd-config', 'groups': ['builders']})
    changed: [localhost] => (item={'name': 'xenial-sd-keyring', 'groups': ['builders']})
    changed: [localhost] => (item={'name': 'xenial-sd-sec-update', 'groups': ['builders']})
    changed: [localhost] => (item={'name': 'xenial-sd-dpkg-verification', 'groups': ['testers']})

    PLAY RECAP *********************************************************************
    localhost                  : ok=1    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0

--> Pruning extra files from scenario ephemeral directory
make: *** [Makefile:323: build-debs] Error 1
user@sd-dev [(1.5.0-rc1) $%] ~/src/fpf/securedrop $ sha256sum build/xenial/*
45c4cbe417cead8e9e282bda156cf9491d2140c5dc31c2fe3506a2fd63f7c043  build/xenial/ossec-agent-3.6.0-amd64.deb
ce479a0d92156ceb524714160a5bb04373d90b9126338fa5c3dace58595b8275  build/xenial/ossec-server-3.6.0-amd64.deb
c6885be0002a3651843ae66bc9ca8c63d88dda1d4fc8c8d971a1efe1b84ecf82  build/xenial/securedrop-app-code_1.5.0~rc1+xenial_amd64.deb
a10208eac3bfcdaa9622c7d8b0cf4b40ad4fa3fa6245405bddcbd65c60fc720d  build/xenial/securedrop-app-code_1.5.0~rc1+xenial.tar.gz
08738740017da1efbdaa163d5d41f4081d00e01ec6ed861f704bc4bde5ed4fa6  build/xenial/securedrop-config-0.1.3+1.5.0~rc1-amd64.deb
3cadc0ff12eb5e4ddad4a61430782e3f232c2f1fea0761c38dd33c095a08a67d  build/xenial/securedrop-grsec-4.14.188-amd64.deb
643f7d2f72dea110669959568a3926d3e5a31c31da35ff232ff4bcf009f7b77c  build/xenial/securedrop-keyring-0.1.4+1.5.0~rc1-amd64.deb
b3a9e028cc92af63a668595fa6a3f5bf493c9136e20f367ef555227b8c3ebc89  build/xenial/securedrop-ossec-agent-3.6.0+1.5.0~rc1-amd64.deb
6a5eda6574725e9a626854bec5e75a47125307ebe68c4e16615f0ddb47495cec  build/xenial/securedrop-ossec-server-3.6.0+1.5.0~rc1-amd64.deb
user@sd-dev [(1.5.0-rc1) $%] ~/src/fpf/securedrop $
